(()=>{"use strict";var e={214:(e,n,a)=>{a.r(n),a.d(n,{checkBrowser:()=>le,downloadBrowser:()=>ce,getCurrentVersion:()=>se});var t=a(0),r=a.n(t),o=a(12),i=a.n(o),s=a(298),l=a.n(s),u=a(376),c=a.n(u),m=a(484),f=a.n(m),p=a(87),v=a.n(p),d=a(622),h=a.n(d),g=a(919),S=a.n(g),b=a(408),w=a.n(b);const y=require("request-progress");var x=a.n(y),k=a(425),_=a(576);function T(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function P(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?T(Object(a),!0).forEach((function(n){i()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var C=a(669).promisify(a(129).exec),B=a(747).promises,M=B.access,N=B.mkdir,E=B.rename,A=B.readdir,O=process.platform,R=v().homedir(),L=h().join(R,".gologin","browser"),I="latest-version.txt",D="https://orbita-browser-mac.gologin.com/".concat(I),j="https://orbita-browser-linux.gologin.com/".concat(I),F="https://orbita-browser-windows.gologin.com/".concat(I),G="foldersize.txt",U=("https://orbita-browser-windows.gologin.com/".concat(G),"orbita-browser-latest.".concat("win32"===O?"zip":"tar.gz")),H="https://orbita-browser-mac.gologin.com/".concat(U),K="https://orbita-browser-linux.gologin.com/".concat(U),z="https://orbita-browser-windows.gologin.com/".concat(U),W="hashfile.mtree",q="hashfile.txt",V=q,J="https://orbita-browser-mac.gologin.com/".concat(W),Z="https://orbita-browser-linux.gologin.com/".concat(q),X=("https://orbita-browser-windows.gologin.com/".concat(V),"hash_sum_not_matched"),$="extracted-browser",Y={step:0,inProgress:!0},Q=null,ee=null,ne=P({},Y),ae=function(e,n){var a=e.split("."),t=r()(a,1)[0];return"win32"===O?h().join(L,"".concat(t,"-").concat(n,".zip")):h().join(L,"".concat(t,"-").concat(n,".tar.gz"))},te=function(){console.log("IN downloadNewBrowser"),Q&&Q.sender.send("download-browser",{progressState:ne,result:!1,sentryParams:ee});var e=h().join(L,U),n=ae(U,2),a=ae(U,3);return new Promise((function(t){return M(n).then((function(){return l().remove(a).then((function(){return E(n,a)})).then((function(){return M(e)}))}),(function(n){return M(e)})).then((function(){return E(e,n)})).finally((function(){return t()}))})).then((function(){var e=h().join(L,U),n=K;return"win32"===O?n=z:"darwin"===O&&(n=H),(0,_.Z)({fn:function(){return N(L,{recursive:!0}).then((function(){return new Promise((function(a,t){x()(f()(n)).on("progress",(function(e){ne=P(P({},ne),e),Q&&Q.sender.send("download-browser",{progressState:ne,result:!1,sentryParams:ee})})).on("error",(function(e){return t(e.message)})).on("end",(function(){ne=P(P({},ne),{},{percent:1,size:{total:ne.size.total,transferred:ne.size.total}}),Q&&Q.sender.send("download-browser",{progressState:ne,result:!1,sentryParams:ee}),a()})).pipe(l().createWriteStream(e))}))})).catch((function(e){var n="Error in browser downloading. ".concat(e.message);return k.captureException(e,ee||{}),Promise.reject(new Error(n))}))}})})).then((function(){return function(){console.log("IN checkBrowserArchive"),ne=P(P({},ne),{},{step:1}),Q&&Q.sender.send("download-browser",{progressState:ne,result:!1,sentryParams:ee});var e=h().join(L,U);return(0,_.Z)({fn:function(){return M(e).catch((function(e){return k.captureException(e,ee||{}),Promise.reject(new Error("Archive has not been found. ".concat(e.message)))}))}})}()})).then((function(){return oe()})).catch((function(e){return Promise.reject(e)}))},re=function(){return function(){console.log("IN downloadHashFile");var e=O,n=Z,a=h().join(L,q);if("win32"===e)return Promise.resolve();"darwin"===e&&(n=J,a=h().join(L,W));var t=l().createWriteStream(a);return(0,_.Z)({fn:function(){return c().get(n,{responseType:"stream",timeout:3e4}).then((function(e){return e.data.pipe(t),new Promise((function(e){return t.on("close",(function(){return e()}))}))})).then((function(){var e="darwin"===O?W:q,n=h().join(L,e);return console.log("hashFilePath:",n),M(n)})).then((function(){return Promise.resolve()}),(function(e){return Promise.reject(new Error("Hash file has not been downloaded"))}))}})}().then((function(){console.log("IN checkBrowserSum");var e=O;return"win32"===O?Promise.resolve():"darwin"===e?(0,_.Z)({fn:function(){return C("mtree -p ".concat(h().join(L,$,"Orbita-Browser.app")," < ").concat(h().join(L,W)," || echo ").concat(X)).then((function(e){return(e||"").toString().trim().includes(X)?Promise.reject(new Error("Error in sum matching")):Promise.resolve()}))}}):(0,_.Z)({fn:function(){return C("cat ".concat(h().join(L,q))).then((function(e){var n=(e.stdout||"").toString().trim();return n=n.split(" ")[0],C("cd ".concat(h().join(L,$)," && find orbita-browser -type f -print0 | sort -z |               xargs -0 sha256sum > ").concat(L,"/calculatedFolderSha.txt")).then((function(){return C("cd ".concat(L," && sha256sum calculatedFolderSha.txt"))})).then((function(e){var a=(e.stdout||"").toString().trim();return(a=a.split(" ")[0])!==n?Promise.reject(new Error("Error in sum matching")):Promise.resolve()}))}))}})}))},oe=function(){return console.log("IN extractBrowser"),console.log("extractBrowser absolutePath: ".concat(L)),(0,_.Z)({fn:function(){return N(h().join(L,$),{recursive:!0})}}).then((function(){return"win32"===O?(0,_.Z)({fn:function(){return S()(h().join(L,U),h().join(L,$),{plugins:[w()()],filter:function(e){return!e.path.endsWith("/")}})}}):(0,_.Z)({fn:function(){return C("tar xzf ".concat(h().join(L,U)," --directory ").concat(h().join(L,$)))}})})).then((function(){return re()})).then((function(){return console.log("IN replaceBrowser"),ne=P(P({},ne),{},{step:2}),Q&&Q.sender.send("download-browser",{progressState:ne,result:!1}),"win32"===O?(0,_.Z)({fn:function(){return l().remove(h().join(L,"orbita-browser"),{recursive:!0,force:!0}).then((function(){return l().copy(h().join(L,$,"orbita-browser"),h().join(L,"orbita-browser"))}))}}):"darwin"===O?(0,_.Z)({fn:function(){return l().remove(h().join(L,"Orbita-Browser.app"),{recursive:!0,force:!0}).then((function(){return A(L)})).then((function(e){var n=[];return e.forEach((function(e){e.match(/.*\.dylib$/)&&n.push(l().remove(h().join(L,e)))})),Promise.all(n)}))}}).then((function(){return(0,_.Z)({fn:function(){return A(h().join(L,$)).then((function(e){var n=[];return e.forEach((function(e){e.match(/.*\.dylib$/)&&n.push(l().copy(h().join(L,$,e),h().join(L,e)))})),Promise.all(n)}))}})})).then((function(){return(0,_.Z)({fn:function(){return l().copy(h().join(L,$,"Orbita-Browser.app"),h().join(L,"Orbita-Browser.app"))}})})).then((function(){return(0,_.Z)({fn:function(){return ie().then((function(e){var n=e.data||"";return n?(n=n.replace(/(\r\n|\n|\r)/gm,""),N(h().join(L,"version"),{recursive:!0}).then((function(){return C("echo ".concat(n," > ").concat(h().join(L,"version",I)))}))):Promise.reject(new Error("Latest Version has not been provided for writing to version file"))}))}})})):(0,_.Z)({fn:function(){return l().remove(h().join(L,"orbita-browser"),{recursive:!0,force:!0}).then((function(){return l().copy(h().join(L,$,"orbita-browser"),h().join(L,"orbita-browser"))}))}})})).then((function(){return ne=P(P({},ne),{},{step:3}),Q&&Q.sender.send("download-browser",{progressState:ne,result:!1}),Promise.resolve()})).catch((function(e){var n="Error in hash checking. ".concat(e.message);return k.captureException(e,ee||{}),Promise.reject(new Error(n))}))},ie=function(){var e=j;return"win32"===O?e=F:"darwin"===O&&(e=D),c().get(e,{responseType:"text",timeout:3e4})},se=function(){var e="if [ -f ".concat(h().join(L,"orbita-browser","version")," ]; then cat ").concat(h().join(L,"orbita-browser","version"),"; else echo 0.0.0; fi");return"win32"===O?e='if exist "'.concat(h().join(L,"orbita-browser","version"),'" (type "').concat(h().join(L,"orbita-browser","version"),'") else (echo 0.0.0)'):"darwin"===O&&(e="if [ -f ".concat(h().join(L,"version",I)," ]; then cat ").concat(h().join(L,"version",I),"; else echo 0.0.0; fi")),C(e)},le=function(){var e=h().join(L,"orbita-browser","chrome");return"darwin"===O?e=h().join(L,"Orbita-Browser.app"):"win32"===O&&(e=h().join(L,"orbita-browser","chrome.exe")),N(L,{recursive:!0}).then((function(){return M(e)})).then((function(){return Promise.resolve(!0)}),(function(e){return Promise.resolve(!1)})).then((function(e){return e?(0,_.Z)({fn:function(){return ie()}}).then((function(e){var n=e.data||"";return n?(n=n.replace(/(\r\n|\n|\r)/gm,""),(0,_.Z)({fn:function(){return se()}}).then((function(e){var a=(e.stdout||"").replace(/(\r\n|\n|\r)/gm,"");return console.log("latestBrowserVersion:",n),console.log("currentVersion:",a),console.log("latestBrowserVersion === currentVersion:",n===a),n===a?Promise.resolve({needDownloadNewBrowser:!1}):Promise.resolve({needDownloadNewBrowser:!0,browserExist:!0})}))):Promise.reject(new Error("Latest Version has not been provided"))})):Promise.resolve({needDownloadNewBrowser:!0})})).catch((function(e){console.log("Error in browser checking promise."),console.log(e.message),k.captureException(e,ee||{})}))},ue=function(){return(0,_.Z)({fn:function(){return l().remove(h().join(L,$),{recursive:!0}).then((function(){return A(L)})).then((function(e){var n=[];return e.forEach((function(e){e.match(/.*\.txt$/)&&n.push(l().remove(h().join(L,e)))})),Promise.all(n)})).then((function(){if("darwin"===O)return l().remove(h().join(L,W))})).catch((function(e){return console.log("Error in deleting old archives. ".concat(e.message)),k.captureException(e,ee||{}),Promise.resolve()}))}})},ce=function(e,n){return ee=n,Q=e,te().then((function(){return ue()})).catch((function(e){var n=e.message;return console.log("Error in browser downloading promise."),console.log(n),k.captureException(e,ee),ne=P(P({},ne),{},{errorMessage:e.message}),ue().finally((function(){return Promise.reject(new Error(n))}))})).finally((function(){var e={progressState:P(P({},ne),{},{inProgress:!1}),result:!ne.errorMessage,errorMessage:ne.errorMessage||""};ne=P({},Y),Q&&Q.sender.send("download-browser",e)}))}},715:(e,n,a)=>{a.r(n);const t=require("@babel/runtime/helpers/asyncToGenerator");var r=a.n(t);const o=require("@babel/runtime/regenerator");var i=a.n(o);const s=require("url");var l=a.n(s),u=a(622),c=a.n(u),m=a(298),f=a.n(m);const p=require("electron"),v=require("electron-updater"),d=require("@sentry/electron/dist/main");var h=a(425);const g=require("is-port-reachable"),S=JSON.parse('{"u2":"GoLogin","i8":"2.1.9","gN":"Venus"}');var b=a(12),w=a.n(b),y=a(129);const x=require("crypto");var k=a.n(x),_=a(87),T=a.n(_);function P(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function C(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?P(Object(a),!0).forEach((function(n){w()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var B=a(747).accessSync,M=T().homedir(),N=c().sep,E=c().join(M,".gologin","extensions"),A=c().join(E,"chrome-extensions"),O=c().join(M,".gologin","browser"),R=function(e){if(!e.BASE_FOLDER||"win32"===process.platform)return e;var n=(0,y.execSync)("echo $USER").toString().trim();try{B(e.BASE_FOLDER)}catch(n){e.BASE_FOLDER=c().sep+c().join("tmp","gologin")}var a=k().createHash("sha1").update(n).digest("hex").substring(0,10);return e.BASE_FOLDER="".concat(e.BASE_FOLDER,"_").concat(a),e.PROFILES_DIR="".concat(e.PROFILES_DIR.replace("{base_folder}",e.BASE_FOLDER)),e.START_DIR_PATH="".concat(e.START_DIR_PATH.replace("{base_folder}",e.BASE_FOLDER)),e.STARTED_DIR_PATH="".concat(e.STARTED_DIR_PATH.replace("{base_folder}",e.BASE_FOLDER)),e},L={BASE_FOLDER:c().sep+c().join("tmp","gologin"),PROFILES_DIR:"{base_folder}/profiles/",START_DIR_PATH:"{base_folder}/start",STARTED_DIR_PATH:"{base_folder}/started",ROUTE_SLASH:N,COOKIES_FILE:c().sep+c().join("Default","Cookies"),PASSWORDS_FILE:c().sep+c().join("Default","Login Data")},I=R(C(C({},L),{},{BROWSER_PATH:c().join(O,"orbita-browser","chrome"),BROWSER_WORKING_DIR:c().join(O,"orbita-browser")})),D=R(C(C({},L),{},{BASE_FOLDER:c().sep+c().join("private","tmp","gologin"),BROWSER_PATH:c().join(O,"Orbita-Browser.app","Contents","MacOS","Orbita"),BROWSER_OLD_PATH:c().join(O,"Orbita-Browser.app","Contents","MacOS","Chromium"),BROWSER_WORKING_DIR:O})),j={BASE_FOLDER:c().join(M,"AppData","Local","Temp","GoLogin")+c().sep,PROFILES_DIR:c().join(M,"AppData","Local","Temp","GoLogin","profiles")+c().sep,START_DIR_PATH:c().join(M,"AppData","Local","Temp","GoLogin","start")+c().sep,STARTED_DIR_PATH:c().join(M,"AppData","Local","Temp","GoLogin","started")+c().sep,ROUTE_SLASH:N,BROWSER_PATH:c().join(M,".gologin","browser","orbita-browser","chrome.exe"),BROWSER_WORKING_DIR:c().join(M,".gologin","browser","orbita-browser"),COOKIES_FILE:c().sep+c().join("Default","Cookies"),PASSWORDS_FILE:c().sep+c().join("Default","Login Data")},F=function(){return"win32"===process.platform?j:"darwin"===process.platform?D:I};const G=require("get-system-fonts");var U=a.n(G),H=a(747).promises,K=H.access,z=H.mkdir,W=H.writeFile,q=H.readFile,V=T().homedir(),J=c().join(V,".gologin","system-fonts.txt"),Z=function(){var e=r()(i().mark((function e(){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(c().join(V,".gologin"),{recursive:!0});case 2:return e.next=4,U()();case 4:return n=e.sent,a=n.map((function(e){return c().parse(e).base.toLowerCase().replace(/[-|\s]/g,"_")})),e.next=8,W(J,JSON.stringify(a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=r()(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(J).then((function(){return!0}),(function(){return!1}));case 2:if(e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,q(J,"utf-8").catch((function(){return"[]"}));case 7:return n=e.sent.toString(),e.abrupt("return",JSON.parse(n));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=a(214),Y=a(376),Q=a.n(Y),ee=a(576);function ne(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return ae(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ae(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw o}}}}function ae(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var te=a(669),re=a(747).promises,oe=re.access,ie=re.mkdir,se=te.promisify(a(129).exec),le=T().homedir(),ue=c().join(le,".gologin","extensions"),ce=[{name:"Cookies Ext",extName:"cookies-ext",extZipName:"cookies-ext.zip",hashFile:"hashfile.txt",hashFileUrl:"https://extensions.gologin.com/hashfile.txt",versionFile:"latest-version.txt",versionFileUrl:"https://extensions.gologin.com/latest-version.txt",extArchiveUrl:"https://extensions.gologin.com/gologin-browser-ext.zip",tempFolder:"downloaded-cookies-ext"},{name:"Passwords Ext",extName:"passwords-ext",extZipName:"passwords-ext.zip",hashFile:"passwords-hashfile.txt",hashFileUrl:"https://extensions.gologin.com/passwords-hashfile.txt",versionFile:"passwords-latest-version.txt",versionFileUrl:"https://extensions.gologin.com/passwords-latest-version.txt",extArchiveUrl:"https://extensions.gologin.com/gologin-browser-passwords-ext.zip",tempFolder:"downloaded-passwords-ext"}],me=function(e,n){return(0,ee.Z)({fn:function(){console.log("IN downloadNewExt ".concat(e.name));var a=f().createWriteStream(c().join(ue,e.tempFolder,e.extZipName));return Q().get(e.extArchiveUrl,{responseType:"stream",timeout:3e4}).then((function(e){return e.data.pipe(a),new Promise((function(e){return a.on("close",(function(){return e()}))}))})).catch((function(a){var t="Error in ".concat(e.name," downloading. ").concat(a.message);return h.captureException(a,n),Promise.reject(new Error(t))}))}}).then((function(){return function(e,n){return(0,ee.Z)({fn:function(){return oe(c().join(ue,e.tempFolder,e.extZipName)).catch((function(a){return h.captureException(a,n),Promise.reject(new Error("".concat(e.name," Archive has not been found. ").concat(a.message)))}))}})}(e,n)})).then((function(){return function(e){console.log("IN checkArchiveSum ".concat(e.name));var n=process.platform,a=c().join(ue,e.tempFolder),t=c().join(a,e.hashFile),r="cd ".concat(a," && sha256sum ").concat(e.extZipName),o="cat ".concat(t);if("win32"===n)return Promise.resolve();"darwin"===n&&(r="cd ".concat(a," && shasum -a 256 ").concat(e.extZipName));var i=f().createWriteStream(t);return(0,ee.Z)({fn:function(){return Q().get(e.hashFileUrl,{responseType:"stream",timeout:3e4}).then((function(e){return e.data.pipe(i),new Promise((function(e){return i.on("close",(function(){return e()}))}))}))}}).then((function(){return(0,ee.Z)({fn:function(){return oe(t).catch((function(){return Promise.reject(new Error("Ext Hash file has not been downloaded"))}))}})})).then((function(){return(0,ee.Z)({fn:function(){return se(o).then((function(n){var a=(n.stdout||"").toString().trim();return se(r).then((function(n){var t=(n.stdout||"").toString().trim(),r=a.split(" ")[0],o=t.split(" "),i=o[0];return o.length>2&&(o.pop(),i=o.join("")),console.log("serverHash ".concat(e.name,":"),r),console.log("userHash ".concat(e.name,":"),i),i!==r?Promise.reject(new Error("Error in ".concat(e.name," sum matching"))):Promise.resolve()}))}))}})}))}(e)})).then((function(){return function(e,n){return console.log("IN moveNewExt ".concat(e.name)),(0,ee.Z)({fn:function(){return f().remove(c().join(ue,e.extZipName)).then((function(){return f().remove(c().join(ue,e.versionFile))})).then((function(){return f().copy(c().join(ue,e.tempFolder,e.extZipName),c().join(ue,e.extZipName))})).then((function(){return f().copy(c().join(ue,e.tempFolder,e.versionFile),c().join(ue,e.versionFile))}))}}).then((function(){return f().remove(c().join(ue,e.tempFolder))})).catch((function(e){return h.captureException(e,n),Promise.resolve()}))}(e,n)}))},fe=function(e){var n,a=ne(ce);try{var t=function(){var a=n.value,t=void 0;t="win32"===process.platform?se('if exist "'.concat(c().join(ue,a.versionFile),'" (type "').concat(c().join(ue,a.versionFile),'") else (echo false)')):se("if [ -f ".concat(c().join(ue,a.versionFile)," ]; then cat ").concat(c().join(ue,a.versionFile),"; else echo false; fi")),(0,ee.Z)({fn:function(){return ie(c().join(ue,a.extName),{recursive:!0}).then((function(){return t})).then((function(e){var n,t=(e.stdout||"").toString().trim();return console.log("checkRes ".concat(a.name," ver:"),t),(n=a.versionFileUrl,Q().get(n,{responseType:"text",timeout:3e4})).then((function(e){var n=(e.data||"").toString().trim();console.log("checkRes ".concat(a.name," user ver:"),n);var r=!0;return n&&n===t&&(r=!1),Promise.resolve({updateExt:r,latestVersion:n})}))}))}}).then((function(n){var t=n.updateExt,r=n.latestVersion;return console.log("updateExt ".concat(a.name,":"),t),t?(0,ee.Z)({fn:function(){return ie(c().join(ue,a.tempFolder),{recursive:!0}).then((function(){return se("echo ".concat(r," > ").concat(c().join(ue,a.tempFolder,a.versionFile)))}))}}).then((function(){return me(a,e)})):Promise.resolve()})).catch((function(e){console.log("Error in ".concat(a.name," checking promise.")),console.log(e.message)}))};for(a.s();!(n=a.n()).done;)t()}catch(e){a.e(e)}finally{a.f()}};const pe=require("ws");var ve=a.n(pe),de=a(484),he=a.n(de);const ge=require("moment");var Se=a.n(ge),be=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=Se()().utc().valueOf(),o=new pe("ws://ws.gologin.co:8080",{origin:"http://ws.gologin.co:8080"});o.on("open",(function(){console.log("connected to ws")})),o.on("close",function(){var o=r()(i().mark((function r(o,s){var l,u;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("disconnected from ws"),l=2e3,u=t-a,a&&u<=4e3&&(l+=n),console.log("resultDelay:",l),r.next=7,new Promise((function(e){return setTimeout((function(){return e()}),n)}));case 7:return r.abrupt("return",e(l,t));case 8:case"end":return r.stop()}}),r)})));return function(e,n){return o.apply(this,arguments)}}()),o.on("error",(function(e){console.log("ws error:",e)})),o.on("message",function(){var e=r()(i().mark((function e(n){var a,t,r,s,l,u,c,m,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(n),t=a.url,r=a.method,s=void 0===r?"get":r,l=a.id,u=a.headers,console.log("data:",n),m=u["x-forwarded-proto"]+"://"+u.host+t,console.log("resultUrl:",m),e.prev=4,e.next=7,new Promise((function(e,n){he()({url:m,method:s,timeout:3e4},(function(a,t){a?n(a):e(t)}))}));case 7:c=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0),o.terminate();case 14:console.log("answer:",c),c&&(f=JSON.stringify({id:l,answer:c}),o.send(f));case 16:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(n){return e.apply(this,arguments)}}())},we=a(0),ye=a.n(we),xe=a(919),ke=a.n(xe),_e=a(408),Te=a.n(_e);const Pe=require("open");var Ce=a.n(Pe);const Be=require("tree-kill");var Me=a.n(Be);const Ne=require("adm-zip");var Ee=a.n(Ne);const Ae=require("zip-dir");var Oe=a.n(Ae);const Re=require("uuid");function Le(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Ie(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Le(Object(a),!0).forEach((function(n){w()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var De=a(747).promises,je=De.access,Fe=De.readFile,Ge=De.writeFile,Ue=T().homedir(),He=c().join(Ue,".gologin","extensions"),Ke=function(e){return je(c().join(He,e.extZipName)).then((function(){return!0})).catch((function(){return!1}))},ze=function(){var e=r()(i().mark((function e(n,a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.Z)({fn:function(){return ke()(c().join(He,n.extZipName),c().join(He,n.extName,a),{plugins:[Te()()],filter:function(e){return!e.path.endsWith("/")}})}}).catch((function(){return Promise.resolve()}));case 2:return!0,e.abrupt("return",qe(n,{profileId:a},true));case 4:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),We=function(){var e=r()(i().mark((function e(n,a){var t,r,o,s,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.profileId,r=a.password,o=a.token,s=a.name,e.next=3,Fe(c().join(He,n.extName,t,"uid.example.json"),"utf-8");case 3:return l=e.sent,(u=JSON.parse(l)).uid=t,u.port=global.appPort||36912,n.name.includes("Pass")&&(delete u.port,u.password=r,u.token=o,u.name=s),e.next=10,Ge(c().join(He,n.extName,t,"uid.json"),JSON.stringify(u));case 10:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),qe=function(){var e=r()(i().mark((function e(n,a){var t,r,o,s,l,u,m=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>2&&void 0!==m[2]&&m[2],r=a.profileId,o={extPath:""},e.next=5,je(c().join(He,n.extName,r,"manifest.json")).then((function(){return!0})).catch((function(){return!1}));case 5:if(s=e.sent,!t&&s){e.next=8;break}return e.abrupt("return",t?s:o);case 8:return e.next=10,Fe(c().join(He,n.versionFile),"utf-8").catch((function(){return""}));case 10:if(l=e.sent,console.log("".concat(n.name," extVersionFileContent:"),l),l){e.next=19;break}return e.prev=13,e.next=16,f().remove(c().join(He,n.extZipName));case 16:return e.prev=16,e.abrupt("return",o);case 19:return e.next=21,Fe(c().join(He,n.extName,r,"version.txt"),"utf-8").catch((function(){return""}));case 21:if(u=e.sent,console.log("".concat(n.name," currentExtVersionFileContent:"),u),!u||u===l){e.next=25;break}return e.abrupt("return",o);case 25:return e.prev=25,e.next=28,Ge(c().join(He,n.extName,r,"version.txt"),l);case 28:return e.prev=28,e.finish(28);case 30:return e.next=32,We(n,a).then((function(){return!0})).catch((function(){return!1}));case 32:return e.abrupt("return",Ie(Ie({},o),{},{extPath:c().join(He,n.extName,r)}));case 33:case"end":return e.stop()}}),e,null,[[13,,16,19],[25,,28,30]])})));return function(n,a){return e.apply(this,arguments)}}(),Ve=function(){var e=r()(i().mark((function e(n){var a,t,o,s,l,u,m,p=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>1&&void 0!==p[1]&&p[1],t=n.profileId,o=n.token,s=ce.map(function(){var e=r()(i().mark((function e(a){var r,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={extPath:""},"Passwords Ext"!==a.name||o){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,qe(a,n);case 5:if(s=e.sent,!(l=s.extPath)){e.next=9;break}return e.abrupt("return",Ie(Ie({},r),{},{extPath:l}));case 9:return e.next=11,Ke(a);case 11:if(e.sent){e.next=15;break}return console.log("".concat(a.name," archive not found")),e.abrupt("return",r);case 15:return e.next=17,f().remove(c().join(He,a.extName,t)).catch((function(){return Promise.resolve()}));case 17:return e.next=19,ze(a,t);case 19:if(e.sent){e.next=23;break}return console.log("".concat(a.name," extracting failed")),e.abrupt("return",r);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=5,Promise.all(s).catch((function(){return[]}));case 5:return l=e.sent.filter(Boolean),u=l.filter((function(e){return null==e?void 0:e.extPath})),m=u.length&&l.length&&u.length===l.length,e.abrupt("return",a||m?l:Ve(n,!0));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();const Je=require("@babel/runtime/helpers/classCallCheck");var Ze=a.n(Je);const Xe=require("@babel/runtime/helpers/createClass");var $e=a.n(Xe);function Ye(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Qe(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Ye(Object(a),!0).forEach((function(n){w()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var en=a(211),nn=a(165),an=a(946),tn=function(){function e(){Ze()(this,e)}var n,a,t,o;return $e()(e,null,[{key:"checkProxy",value:(o=r()(i().mark((function n(a){var t,r,o,s,l,u,c,m;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=a.type,r="fail",o="",s="",l="",u="",c={},!t.includes("http")){n.next=17;break}return n.prev=8,n.next=11,this.getTimezoneWithHttp(a);case 11:c=n.sent,n.next=17;break;case 14:n.prev=14,n.t0=n.catch(8),u=e.getFormattedError(n.t0);case 17:if(!t.includes("socks")){n.next=36;break}m=3;case 19:if(!m--){n.next=36;break}return n.prev=20,n.next=23,this.getTimezoneWithSocks(a);case 23:return c=n.sent,n.abrupt("break",36);case 27:if(n.prev=27,n.t1=n.catch(20),n.t2=m,!n.t2){n.next=33;break}return n.next=33,new Promise((function(e){return setTimeout((function(){console.log("Re-checking SOCKS timezone"),e()}),3e3)}));case 33:m||(u=e.getFormattedError(n.t1));case 34:n.next=19;break;case 36:return c.toString().toLowerCase().includes("access denied")?u="Proxy auth error":(o=c.ip,s=c.country,l=c.timezone,r=o&&o.length?"success":"fail"),n.abrupt("return",{status:r,origin:o,country:s,timezone:l,error:u||"Proxy error"});case 38:case"end":return n.stop()}}),n,this,[[8,14],[20,27]])}))),function(e){return o.apply(this,arguments)})},{key:"getTimezoneWithSocks",value:(t=r()(i().mark((function e(n){var a,t,r,o,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.type.includes("socks4")){e.next=2;break}return e.abrupt("return",this.getTimezoneWithSocks4(n));case 2:return a=n.host,t=n.port,r=n.username,o=n.password,e.next=5,new Promise((function(e,n){var i=setTimeout((function(){s.abort(),n(new Error("Timeout exceeded"))}),1e4),s=an.get({hostname:"time.gologin.com",path:"/timezone",socksHost:a,socksPort:t,socksUsername:r||"",socksPassword:o||""},(function(a){a.setEncoding("utf8");var t="";a.on("data",(function(e){return t+=e})),a.on("end",(function(){var r;clearTimeout(i);try{r=JSON.parse(t)}catch(e){n(e)}e(Qe(Qe({},a),{},{body:r}))}))})).on("error",(function(e){return n(e)}))}));case 5:if(l=e.sent,(s=l.body||{}).ip||!l.statusCode.toString().startsWith("4")){e.next=9;break}throw l;case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getTimezoneWithSocks4",value:(a=r()(i().mark((function e(n){var a,t,r,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.host,t=n.port,o=new nn("socks4://"+a+":"+t,{tunnel:!0,timeout:1e4}),e.next=5,new Promise((function(e,n){en.get("https://time.gologin.com/timezone",{agent:o},(function(a){var t="";a.on("data",(function(e){return t+=e})),a.on("end",(function(){var r;try{r=JSON.parse(t)}catch(e){n(e)}e(Qe(Qe({},a),{},{body:r}))}))})).on("error",(function(e){return n(e)}))}));case 5:if(s=e.sent,(r=s.body||{}).ip||!s.statusCode.toString().startsWith("4")){e.next=9;break}throw s;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"getTimezoneWithHttp",value:(n=r()(i().mark((function e(n){var a,t,r,o,s,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.host,t=n.port,r=n.username,o=n.password,s="http://",r&&o&&(s+="".concat(encodeURIComponent(r),":").concat(encodeURIComponent(o),"@")),s+="".concat(a,":").concat(t),e.next=6,he().get({url:"https://time.gologin.com/timezone",proxy:s,json:!0,maxAttempts:3,retryDelay:2e3,timeout:5e3});case 6:if(l=e.sent,(u=l.body||{}).ip||!l.statusCode.toString().startsWith("4")){e.next=10;break}throw l;case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getFormattedError",value:function(e){return e.toString().includes("statusCode=407")||(e.statusCode||"").toString().startsWith("4")?"Proxy auth error":"Proxy connection error"}}]),e}();const rn=require("@babel/runtime/helpers/toConsumableArray");var on=a.n(rn);const sn=require("sqlite"),ln=require("sqlite3");var un=a.n(ln),cn=function(){return k().pbkdf2Sync("a5379xgQjkW6ysbu","saltysalt",1,16,"sha1")},mn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{algorithm:"aes-128-cbc",key:cn(),iv:Buffer.alloc(16," ")},a=e.toString();if(!a.startsWith("v10")&&!a.startsWith("v11"))return a;var t=n.algorithm,r=n.key,o=n.iv,i=k().createDecipheriv(t,r,o),s=i.update(e.slice(3),"binary","utf8");return s+i.final("utf8")},fn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{algorithm:"aes-128-cbc",key:cn(),iv:Buffer.alloc(16," ")},a=n.algorithm,t=n.key,r=n.iv,o=k().createCipheriv(a,t,r),i=o.update(e,"utf8","binary");return i+o.final("binary")},pn=function(){var e=r()(i().mark((function e(n){var a,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.prev=1,e.next=4,Q()({url:"http://localhost:".concat(global.appPort,"/cookies/").concat(n,"?isAvailable=true"),method:"GET"});case 4:t=e.sent,r=t.data,a=r.status,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}(),vn=function(){var e=r()(i().mark((function e(n){var a,t,r,o,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!(s.length>1&&void 0!==s[1])||s[1],t={filename:n,driver:un().Database},a&&(t.mode=un().OPEN_READONLY),o=3;case 4:if(!o--){e.next=20;break}return e.prev=5,e.next=8,(0,sn.open)(t);case 8:return r=e.sent,e.abrupt("break",20);case 12:if(e.prev=12,e.t0=e.catch(5),o){e.next=16;break}throw e.t0;case 16:return e.next=18,new Promise((function(e){return setTimeout((function(){return e()}),300)}));case 18:e.next=4;break;case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(n){return e.apply(this,arguments)}}();function dn(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return hn(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return hn(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw o}}}}function hn(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var gn={"-1":"unspecified",0:"no_restriction",1:"lax",2:"strict"};function Sn(e,n,a){var t=e;return e.startsWith(".")&&(t=e.substr(1)),"http"+(n?"s":"")+"://"+t+a}function bn(e){return 0===e?e:1e6*(e-new Date(Date.UTC(1601,0,1)).getTime()/1e3)}function wn(e){var n=e.toString().length;if(0===e||n>18)return e;var a=e;return n<18&&(a=Number(a+"0".repeat(18-n))),(a/1e4+new Date(Date.UTC(1601,0,1)).getTime())/1e3}function yn(e,n){return{unique:n.filter((function(n){return-1===e.findIndex((function(e){var a=e.domain,t=e.name,r=e.path;return n.domain===a&&n.name===t&&n.path===r}))})),withNewValue:n.filter((function(n){var a=e.find((function(e){var a=e.domain,t=e.name,r=e.path;return n.domain===a&&n.name===t&&n.path===r}));if(a&&a.value!==n.value)return n}))}}function xn(e){var n=Math.floor((new Date).getTime()/1e3);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],t=on()(e);if(n<=0)return a;for(;t.length;)a.push(t.splice(0,n));return a}(e,76).map((function(e){var a=e.map((function(){return"(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)"})).join(", ");return["insert or replace into cookies (creation_utc, top_frame_site_key, host_key, name, value, path, expires_utc, is_secure, is_httponly, last_access_utc, is_persistent, encrypted_value, samesite, has_expires) values ".concat(a),e.flatMap((function(e){var a=e.creationDate?e.creationDate:bn(n),t=e.session?0:bn(e.expirationDate),r=Buffer.concat([Buffer.from("v11"),Buffer.from(fn(e.value),"binary")]),o=Object.keys(gn).find((function(n){return gn[n]===(e.sameSite||"-1")})),i=e.name.startsWith("__Host-")||e.name.startsWith("__Secure-")?1:Number(e.secure),s=[void 0,null].includes(e.session)?Number(0!==t):Number(!e.session);return/^(\.)?mail.google.com$/.test(e.domain)&&"COMPASS"===e.name&&(t=0,s=0),[a,"",e.domain,e.name,"",e.path,t,i,Number(e.httpOnly),0,s,r,o,0===t?0:1]}))]}))}var kn=function(){var e=r()(i().mark((function e(n){var a,t,r,o,s,l,u,c,m,f,p,v,d,h,g,S,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn(n);case 2:return a=e.sent,t=[],e.prev=4,e.next=7,a.all("select * from cookies");case 7:r=e.sent,o=dn(r);try{for(o.s();!(s=o.n()).done;)l=s.value,u=l.host_key,c=l.name,m=l.encrypted_value,f=l.path,p=l.is_secure,v=l.is_httponly,d=l.expires_utc,h=l.is_persistent,g=l.samesite,S=l.creation_utc,b=mn(m),t.push({url:Sn(u,p,f),domain:u,name:c,value:b,path:f,sameSite:gn[g],secure:Boolean(p),httpOnly:Boolean(v),hostOnly:!u.startsWith("."),session:!Boolean(h),expirationDate:wn(d),creationDate:wn(S)})}catch(e){o.e(e)}finally{o.f()}e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:return e.prev=15,e.next=18,a.close();case 18:return e.finish(15);case 19:return e.abrupt("return",{cookies:t});case 20:case"end":return e.stop()}}),e,null,[[4,12,15,19]])})));return function(n){return e.apply(this,arguments)}}(),_n=function(){var e=r()(i().mark((function e(n,a){var t,r,o,s,l,u,c,m,f,p,v,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn(n);case 2:return t=e.sent,r=t.cookies,o=yn(r,a),s=[].concat(on()(o.unique),on()(o.withNewValue)),l=xn(s),e.next=9,vn(n,!1);case 9:u=e.sent,e.prev=10,c=dn(l),e.prev=12,c.s();case 14:if((m=c.n()).done){e.next=25;break}return f=ye()(m.value,2),p=f[0],v=f[1],e.next=18,u.prepare(p);case 18:return d=e.sent,e.next=21,d.run(v);case 21:return e.next=23,d.finalize();case 23:e.next=14;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(12),c.e(e.t0);case 30:return e.prev=30,c.f(),e.finish(30);case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(10),console.log(e.t1.message);case 38:return e.prev=38,e.next=41,u.close();case 41:return e.finish(38);case 42:case"end":return e.stop()}}),e,null,[[10,35,38,42],[12,27,30,33]])})));return function(n,a){return e.apply(this,arguments)}}();function Tn(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Pn(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Tn(Object(a),!0).forEach((function(n){w()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tn(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Cn(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return Bn(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bn(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw o}}}}function Bn(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var Mn=function(){var e=r()(i().mark((function e(n){var a,t,r,o,s,l,u,c,m,f,p,v,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,vn(n);case 3:return t=e.sent,e.prev=4,e.next=7,t.all("select * from logins");case 7:r=e.sent,o=Cn(r);try{for(o.s();!(s=o.n()).done;)l=s.value,u=l.origin_url,c=l.action_url,m=l.username_element,f=l.username_value,p=l.password_element,v=l.password_value,d=l.submit_element,h=mn(v),a.push({origin_url:u,action_url:c,username_element:m,username_value:f,password_element:p,password_value:h,submit_element:d})}catch(e){o.e(e)}finally{o.f()}e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:return e.prev=15,e.next=18,t.close();case 18:return e.finish(15);case 19:return e.abrupt("return",{passwords:a});case 20:case"end":return e.stop()}}),e,null,[[4,12,15,19]])})));return function(n){return e.apply(this,arguments)}}(),Nn=function(e,n,a){var t={iv:a,algorithm:"aes-256-cbc",key:n+n.substring(0,8)};return e.map((function(e){return Pn(Pn({},e),{},{password:fn(e.password,t)})}))};const En=require("@babel/runtime/helpers/classPrivateFieldGet");var An=a.n(En);const On=require("@babel/runtime/helpers/classPrivateFieldSet");var Rn=a.n(On),Ln=a(747),In=a.n(Ln),Dn=function(){for(var e=[8,4,4,4,12],n=(0,Re.v4)().split("-"),a=6144*Math.round(100*Math.random()),t={first:1,second:2,third:3,fourth:4,fifth:5},r="";r.length<16;){var o=r.length;t.fifth&&16-o<e[t.fifth-1]&&delete t.fifth,t.first&&16-o<e[t.first-1]&&delete t.first,(t.second||t.third)&&(t.second||t.fourth)&&(t.fourth||t.third)||8!==o||(delete t.second,delete t.third,delete t.fourth),t.fifth&&a%t.fifth==0?(r+=n[t.fifth-1],a/=e[t.fifth-1],delete t.fifth):t.fourth&&a%t.fourth==0?(r+=n[t.fourth-1],a/=e[t.fourth-1],delete t.fourth):t.third&&a%t.third==0?(r+=n[t.third-1],a/=e[t.third-1],delete t.third):t.second&&a%t.second==0?(r+=n[t.second-1],a/=e[t.second-1],delete t.second):t.first&&a%t.first==0&&(r+=n[t.first-1],a/=e[t.first-1],delete t.first)}return r};const jn=[{name:"AIGDT",value:"AIGDT",fileNames:["aigdt.ttf"],os:["win","lin"]},{name:"AMGDT",value:"AMGDT",fileNames:["amgdt.ttf"],os:["win","lin"]},{name:"Abadi MT Condensed Light",value:"Abadi MT Condensed Light"},{name:"Abyssinica Sil Regular",value:"Abyssinica Sil Regular",fileNames:["abyssinica_sil.ttf"],os:["lin"]},{name:"Academy Engraved LET",value:"Academy Engraved LET"},{name:"AcadEref",value:"AcadEref",fileNames:["acaderef.ttf"]},{name:"Adobe Arabic",value:"Adobe Arabic"},{name:"Adobe Caslon Pro",value:"Adobe Caslon Pro"},{name:"Adobe Caslon Pro Bold",value:"Adobe Caslon Pro Bold"},{name:"Adobe Devanagari",value:"Adobe Devanagari"},{name:"Adobe Fan Heiti Std B",value:"Adobe Fan Heiti Std B"},{name:"Adobe Fangsong Std R",value:"Adobe Fangsong Std R"},{name:"Adobe Garamond Pro",value:"Adobe Garamond Pro"},{name:"Adobe Garamond Pro Bold",value:"Adobe Garamond Pro Bold"},{name:"Adobe Gothic Std B",value:"Adobe Gothic Std B"},{name:"Adobe Hebrew",value:"Adobe Hebrew"},{name:"Adobe Heiti Std R",value:"Adobe Heiti Std R"},{name:"Adobe Kaiti Std R",value:"Adobe Kaiti Std R"},{name:"Adobe Ming Std L",value:"Adobe Ming Std L"},{name:"Adobe Myungjo Std M",value:"Adobe Myungjo Std M"},{name:"Adobe Naskh Medium",value:"Adobe Naskh Medium"},{name:"Adobe Song Std L",value:"Adobe Song Std L"},{name:"Agency FB",value:"Agency FB"},{name:"Aharoni",value:"Aharoni",fileNames:["aharoni.ttf"]},{name:"Albertus Medium",value:"Albertus Medium"},{name:"Alef",value:"Alef",fileNames:["aharoni.ttf"],os:["lin"]},{name:"Alexandra Script",value:"Alexandra Script",fileNames:["alexandra_script.ttf"]},{name:"Algerian",value:"Algerian",fileNames:["algerian.ttf"]},{name:"Amadeus",value:"Amadeus",fileNames:["amadeus_regular.ttf"]},{name:"Amazone BT",value:"Amazone BT"},{name:"AmdtSymbols",value:"AmdtSymbols",fileNames:["amdtsymbols_regular.ttf"]},{name:"AmerType Md BT",value:"AmerType Md BT"},{name:"American Typewriter",value:"American Typewriter",os:["mac"]},{name:"Amiri",value:"Amiri",os:["mac"]},{name:"AnastasiaScript",value:"AnastasiaScript"},{name:"Andale Mono",value:"Andale Mono",os:["mac"]},{name:"Andalus",value:"Andalus"},{name:"Angsana New",value:"Angsana New"},{name:"AngsanaUPC",value:"AngsanaUPC"},{name:"Ani",value:"Ani",os:["lin"]},{name:"AnjaliOldLipi",value:"AnjaliOldLipi",fileNames:["anjalioldlipi.ttf"],os:["lin"]},{name:"Annabelle",value:"Annabelle",fileNames:["annabelle.ttf"]},{name:"Antique Olive",value:"Antique Olive"},{name:"Aparajita",value:"Aparajita"},{name:"Apple Braille",value:"Apple Braille",os:["mac"]},{name:"Apple Chancery",value:"Apple Chancery",os:["mac"]},{name:"Apple Color Emoji",value:"Apple Color Emoji",os:["mac"]},{name:"Apple SD Gothic Neo",value:"Apple SD Gothic Neo",os:["mac"]},{name:"Apple Symbols",value:"Apple Symbols",os:["mac"]},{name:"AppleGothic",value:"AppleGothic",os:["mac"]},{name:"AppleMyungjo",value:"AppleMyungjo",os:["mac"]},{name:"Arabic Transparent",value:"Arabic Transparent"},{name:"Arabic Typesetting",value:"Arabic Typesetting"},{name:"Arial",value:"Arial",os:["win","mac"]},{name:"Arial Baltic",value:"Arial Baltic",os:["win","mac"]},{name:"Arial Black",value:"Arial Black",os:["win","mac"]},{name:"Arial CE",value:"Arial CE",os:["win","mac"]},{name:"Arial Cyr",value:"Arial Cyr",os:["win","mac"]},{name:"Arial Greek",value:"Arial Greek",os:["win","mac"]},{name:"Arial Hebrew",value:"Arial Hebrew",os:["win","mac"]},{name:"Arial MT",value:"Arial MT",os:["win","mac"]},{name:"Arial Narrow",value:"Arial Narrow",os:["win","mac"]},{name:"Arial Rounded MT Bold",value:"Arial Rounded MT Bold",os:["win","mac"]},{name:"Arial TUR",value:"Arial TUR",os:["win","mac"]},{name:"Arial Unicode MS",value:"Arial Unicode MS",os:["win","mac"]},{name:"Ariston",value:"Ariston",fileNames:["ariston.ttf"]},{name:"Arno Pro",value:"Arno Pro"},{name:"Arno Pro Caption",value:"Arno Pro Caption"},{name:"Arno Pro Display",value:"Arno Pro Display"},{name:"Arno Pro Light Display",value:"Arno Pro Light Display"},{name:"Arno Pro SmText",value:"Arno Pro SmText"},{name:"Arno Pro Smbd",value:"Arno Pro Smbd"},{name:"Arno Pro Smbd Caption",value:"Arno Pro Smbd Caption"},{name:"Arno Pro Smbd Display",value:"Arno Pro Smbd Display"},{name:"Arno Pro Smbd SmText",value:"Arno Pro Smbd SmText"},{name:"Arno Pro Smbd Subhead",value:"Arno Pro Smbd Subhead"},{name:"Arno Pro Subhead",value:"Arno Pro Subhead"},{name:"Arrus BT",value:"Arrus BT"},{name:"Athelas",value:"Athelas",os:["mac"]},{name:"Aurora Cn BT",value:"Aurora Cn BT"},{name:"AvantGarde Bk BT",value:"AvantGarde Bk BT"},{name:"AvantGarde Md BT",value:"AvantGarde Md BT"},{name:"Avenir",value:"Avenir",os:["mac"]},{name:"Avenir Next",value:"Avenir Next",os:["mac"]},{name:"Avenir Next Condensed",value:"Avenir Next Condensed",os:["mac"]},{name:"Ayuthaya",value:"Ayuthaya",os:["mac"]},{name:"Baghdad",value:"Baghdad",os:["mac"]},{name:"Bangla MN",value:"Bangla MN",os:["mac"]},{name:"Bangla Sangam MN",value:"Bangla Sangam MN",os:["mac"]},{name:"Bank Gothic",value:"Bank Gothic"},{name:"BankGothic Lt BT",value:"BankGothic Lt BT"},{name:"BankGothic Md BT",value:"BankGothic Md BT"},{name:"Baskerville",value:"Baskerville",os:["mac"]},{name:"Baskerville Old Face",value:"Baskerville Old Face",os:["mac"]},{name:"Batang",value:"Batang"},{name:"BatangChe",value:"BatangChe"},{name:"Bauhaus 93",value:"Bauhaus 93"},{name:"Bazooka",value:"Bazooka"},{name:"Beirut",value:"Beirut",os:["mac"]},{name:"Bell Gothic Std Black",value:"Bell Gothic Std Black",fileNames:["bell_gothic_std_black.otf"]},{name:"Bell Gothic Std Light",value:"Bell Gothic Std Light",fileNames:["bell_gothic_std_light.otf"]},{name:"Bell MT",value:"Bell MT"},{name:"Benguiat Bk BT",value:"Benguiat Bk BT"},{name:"Berlin Sans FB",value:"Berlin Sans FB"},{name:"Berlin Sans FB Demi",value:"Berlin Sans FB Demi"},{name:"Bernard MT Condensed",value:"Bernard MT Condensed"},{name:"BernhardFashion BT",value:"BernhardFashion BT"},{name:"BernhardMod BT",value:"BernhardMod BT"},{name:"Bickham Script One",value:"Bickham Script One",fileNames:["bickham_script_one.ttf"]},{name:"Bickham Script Pro Regular",value:"Bickham Script Pro Regular"},{name:"Bickham Script Pro Semibold",value:"Bickham Script Pro Semibold"},{name:"Bickham Script Two",value:"Bickham Script Two"},{name:"Big Caslon",value:"Big Caslon",os:["mac"]},{name:"Birch Std",value:"Birch Std"},{name:"BinnerD",value:"BinnerD"},{name:"Bitstream Vera Sans Mono",value:"Bitstream Vera Sans Mono"},{name:"Blackadder ITC",value:"Blackadder ITC"},{name:"Blackoak Std",value:"Blackoak Std"},{name:"BlairMdITC TT",value:"BlairMdITC TT"},{name:"Bodoni 72",value:"Bodoni 72",os:["mac"]},{name:"Bodoni 72 Oldstyle",value:"Bodoni 72 Oldstyle",os:["mac"]},{name:"Bodoni 72 Smallcaps",value:"Bodoni 72 Smallcaps",os:["mac"]},{name:"Bodoni MT",value:"Bodoni MT",os:["mac"]},{name:"Bodoni MT Black",value:"Bodoni MT Black",os:["mac"]},{name:"Bodoni MT Condensed",value:"Bodoni MT Condensed",os:["mac"]},{name:"Bodoni MT Poster Compressed",value:"Bodoni MT Poster Compressed",os:["mac"]},{name:"Book Antiqua",value:"Book Antiqua"},{name:"Bookman Old Style",value:"Bookman Old Style"},{name:"Bookshelf Symbol 7",value:"Bookshelf Symbol 7"},{name:"Boulder",value:"Boulder"},{name:"Bradley Hand",value:"Bradley Hand"},{name:"Bradley Hand ITC",value:"Bradley Hand ITC"},{name:"Bremen Bd BT",value:"Bremen Bd BT"},{name:"Britannic Bold",value:"Britannic Bold"},{name:"Broadway",value:"Broadway"},{name:"Browallia New",value:"Browallia New"},{name:"BrowalliaUPC",value:"BrowalliaUPC"},{name:"Brush Script MT",value:"Brush Script MT"},{name:"Brush Script Std",value:"Brush Script Std"},{name:"CG Omega",value:"CG Omega"},{name:"CG Times",value:"CG Times"},{name:"Caladea",value:"Caladea",fileNames:["caladea_bold.ttf","caladea_bold_italic.ttf","caladea-italic.ttf","caladea_regular.ttf"],os:["lin"]},{name:"Calibri",value:"Calibri",os:["win"]},{name:"Calibri Light",value:"Calibri Light",os:["win"]},{name:"Californian FB",value:"Californian FB"},{name:"Calisto MT",value:"Calisto MT"},{name:"Calligraph",value:"Calligraph"},{name:"Calligrapher",value:"Calligrapher"},{name:"Cambria",value:"Cambria",os:["win"]},{name:"Cambria Math",value:"Cambria Math",fileNames:["cambria_math.ttf"],os:["win"]},{name:"Candara",value:"Candara",os:["win"]},{name:"Carrois Gothic SC",value:"Carrois Gothic SC",os:["mac"]},{name:"Carolina",value:"Carolina"},{name:"CaslonOpnface BT",value:"CaslonOpnface BT"},{name:"Castellar",value:"Castellar"},{name:"Centaur",value:"Centaur"},{name:"Century",value:"Century"},{name:"Century Gothic",value:"Century Gothic"},{name:"Century Schoolbook",value:"Century Schoolbook"},{name:"Ceremonious Two",value:"Ceremonious Two",fileNames:["ceremonious_two.ttf"]},{name:"Cezanne",value:"Cezanne"},{name:"Chalkboard",value:"Chalkboard",os:["mac"]},{name:"Chalkboard SE",value:"Chalkboard SE",os:["mac"]},{name:"Chalkduster",value:"Chalkduster",os:["mac"]},{name:"Chandas",value:"Chandas",os:["lin"]},{name:"Chaparral Pro",value:"Chaparral Pro"},{name:"Chaparral Pro Light",value:"Chaparral Pro Light"},{name:"Charlemagne Std",value:"Charlemagne Std"},{name:"Charlesworth",value:"Charlesworth"},{name:"Charter",value:"Charter",os:["mac"]},{name:"Charter BT",value:"Charter BT",os:["mac"]},{name:"Charter Bd BT",value:"Charter Bd BT",os:["mac"]},{name:"Chaucer",value:"Chaucer"},{name:"ChelthmITC Bk BT",value:"ChelthmITC Bk BT"},{name:"Chilanka",value:"Chilanka",fileNames:["chilanka_regular.ttf"],os:["lin"]},{name:"Chiller",value:"Chiller"},{name:"CityBlueprint",value:"CityBlueprint"},{name:"Clarendon",value:"Clarendon"},{name:"Clarendon BT",value:"Clarendon BT"},{name:"Clarendon Blk BT",value:"Clarendon Blk BT"},{name:"Clarendon Condensed",value:"Clarendon Condensed"},{name:"Clarendon Lt BT",value:"Clarendon Lt BT"},{name:"CloisterBlack BT",value:"CloisterBlack BT"},{name:"Cochin",value:"Cochin",os:["mac"]},{name:"Collapse",value:"Collapse",os:["mac"]},{name:"Colonna MT",value:"Colonna MT"},{name:"Comic Sans MS",value:"Comic Sans MS",os:["win","mac"]},{name:"CommercialPi BT",value:"CommercialPi BT"},{name:"CommercialScript BT",value:"CommercialScript BT"},{name:"Complex",value:"Complex"},{name:"Consolas",value:"Consolas",os:["win"]},{name:"Constantia",value:"Constantia",os:["win"]},{name:"Cooper Black",value:"Cooper Black"},{name:"Cooper Std Black",value:"Cooper Std Black"},{name:"Copperplate",value:"Copperplate",os:["mac"]},{name:"Copperplate Gothic",value:"Copperplate Gothic",os:["mac"]},{name:"Copperplate Gothic Bold",value:"Copperplate Gothic Bold",os:["mac"]},{name:"Copperplate Gothic Light",value:"Copperplate Gothic Light",os:["mac"]},{name:"Copyist",value:"Copyist"},{name:"Corbel",value:"Corbel",os:["win"]},{name:"Cordia New",value:"Cordia New"},{name:"CordiaUPC",value:"CordiaUPC"},{name:"Coronet",value:"Coronet"},{name:"CountryBlueprint",value:"CountryBlueprint"},{name:"Corsiva Hebrew",value:"Corsiva Hebrew",os:["mac"]},{name:"Courier",value:"Courier",os:["win","mac"]},{name:"Courier New",value:"Courier New",os:["win","mac"]},{name:"Courier New Baltic",value:"Courier New Baltic",os:["win","mac"]},{name:"Courier New CE",value:"Courier New CE",os:["win","mac"]},{name:"Courier New Cyr",value:"Courier New Cyr",os:["win","mac"]},{name:"Courier New Greek",value:"Courier New Greek",os:["win","mac"]},{name:"Courier New TUR",value:"Courier New TUR",os:["win","mac"]},{name:"Curlz MT",value:"Curlz MT"},{name:"DFKai-SB",value:"DFKai-SB"},{name:"DIN Alternate",value:"DIN Alternate",os:["mac"]},{name:"DIN Condensed",value:"DIN Condensed",os:["mac"]},{name:"Damascus",value:"Damascus",os:["mac"]},{name:"Dancing Script",value:"Dancing Script",fileNames:["dancing_script_bold.ttf","dancing_script_medium.ttf","dancing_script_regular.ttf","dancing_script_semibold.ttf"],os:["lin","mac"]},{name:"DaunPenh",value:"DaunPenh"},{name:"Dauphin",value:"Dauphin"},{name:"David",value:"David",os:["win","lin"]},{name:"David CLM",value:"David",os:["mac"]},{name:"David Libre",value:"David Libre",fileNames:["david_libre_bold.ttf","david_libre_medium.ttf","david_libre_regular.ttf"],os:["win","lin"]},{name:"Decor",value:"Decor"},{name:"DejaVu Sans",value:"DejaVu Sans",os:["win","lin","mac"]},{name:"DejaVu Sans Condensed",value:"DejaVu Sans Condensed",os:["win","lin","mac"]},{name:"DejaVu Sans Light",value:"DejaVu Sans Light",os:["win","lin","mac"]},{name:"DejaVu Sans Mono",value:"DejaVu Sans Mono",os:["win","lin","mac"]},{name:"DejaVu Serif",value:"DejaVu Serif",os:["win","lin","mac"]},{name:"DejaVu Serif Condensed",value:"DejaVu Serif Condensed",os:["win","lin","mac"]},{name:"Devanagari MT",value:"Devanagari MT",os:["mac"]},{name:"Devanagari Sangam MN",value:"Devanagari Sangam MN",os:["mac"]},{name:"Didot",value:"Didot",os:["mac"]},{name:"DilleniaUPC",value:"DilleniaUPC"},{name:"Diwan Kufi",value:"Diwan Kufi",os:["mac"]},{name:"Diwan Thuluth",value:"Diwan Thuluth",os:["mac"]},{name:"DokChampa",value:"DokChampa"},{name:"Dotum",value:"Dotum"},{name:"DotumChe",value:"DotumChe"},{name:"Droid Sans",value:"Droid Sans",os:["lin","mac"]},{name:"Droid Sans Mono",value:"Droid Sans Mono",os:["lin","mac"]},{name:"Dutch801 Rm BT",value:"Dutch801 Rm BT"},{name:"Dutch801 XBd BT",value:"Dutch801 XBd BT"},{name:"Dyuthi",value:"Dyuthi",fileNames:["dyuthi.ttf"],os:["lin"]},{name:"Ebrima",value:"Ebrima",os:["win"]},{name:"Eccentric Std",value:"Eccentric Std"},{name:"Edwardian Script ITC",value:"Edwardian Script ITC"},{name:"Elephant",value:"Elephant"},{name:"Engravers MT",value:"Engravers MT"},{name:"EngraversGothic BT",value:"EngraversGothic BT"},{name:"Eras Bold ITC",value:"Eras Bold ITC"},{name:"Eras Demi ITC",value:"Eras Demi ITC"},{name:"Eras Light ITC",value:"Eras Light ITC"},{name:"Eras Medium ITC",value:"Eras Medium ITC"},{name:"Estrangelo Edessa",value:"Estrangelo Edessa"},{name:"EucrosiaUPC",value:"EucrosiaUPC"},{name:"Euphemia",value:"Euphemia",os:["mac"]},{name:"Euphemia UCAS",value:"Euphemia UCAS",os:["mac"]},{name:"EuroRoman",value:"EuroRoman"},{name:"Eurostile",value:"Eurostile"},{name:"Exotc350 Bd BT",value:"Exotc350 Bd BT"},{name:"FangSong",value:"FangSong"},{name:"Farah",value:"Farah",os:["mac"]},{name:"Farisi",value:"Farisi",os:["mac"]},{name:"Felix Titling",value:"Felix Titling"},{name:"Fixedsys",value:"Fixedsys",fileNames:["fixedsys.ttf"]},{name:"Footlight MT Light",value:"Footlight MT Light"},{name:"Forte",value:"Forte"},{name:"Frank Ruehl",value:"Frank Ruehl",os:["win","lin"]},{name:"Frank Ruehl Libre Black",value:"Frank Ruehl Libre Black",fileNames:["frank_ruhl_libre_black.ttf"],os:["win","lin"]},{name:"Frank Ruehl Libre",value:"Frank Ruehl Libre",fileNames:["frank_ruhl_libre_regular.ttf","frank_ruhl_libre_bold.ttf","frank_ruhl_libre_medium.ttf"],os:["win","lin"]},{name:"Frank Ruehl Libre Light",value:"Frank Ruehl Libre Light",fileNames:["frank_ruhl_libre_light.ttf"],os:["win","lin"]},{name:"Franklin Gothic Book",value:"Franklin Gothic Book",os:["win"]},{name:"Franklin Gothic Demi",value:"Franklin Gothic Demi",os:["win"]},{name:"Franklin Gothic Demi Cond",value:"Franklin Gothic Demi Cond",os:["win"]},{name:"Franklin Gothic Heavy",value:"Franklin Gothic Heavy",os:["win"]},{name:"Franklin Gothic Medium",value:"Franklin Gothic Medium",os:["win"]},{name:"Franklin Gothic Medium Cond",value:"Franklin Gothic Medium Cond",os:["win"]},{name:"Freefrm721 Blk BT",value:"Freefrm721 Blk BT"},{name:"Freehand521 BT",value:"Freehand521 BT"},{name:"FreeMono",value:"FreeMono",fileNames:["freemono.ttf","freemono_bold.ttf","freemono_bold_oblique.ttf","freemono_oblique.ttf"],os:["lin"]},{name:"FreeSans",value:"FreeSans",fileNames:["freesans.ttf","freesans_bold.ttf","freesans_bold_oblique.ttf","freesans_oblique.ttf"],os:["lin"]},{name:"FreeSerif",value:"FreeSerif",fileNames:["freeserif.ttf","freeserif_bold.ttf","freeserif_bold_italic.ttf","freeserif_italic.ttf"],os:["lin"]},{name:"FreesiaUPC",value:"FreesiaUPC"},{name:"Freestyle Script",value:"Freestyle Script"},{name:"French Script MT",value:"French Script MT"},{name:"FrnkGothITC Bk BT",value:"FrnkGothITC Bk BT"},{name:"Frutiger",value:"Frutiger"},{name:"Futura",value:"Futura",os:["mac"]},{name:"Futura Bk BT",value:"Futura Bk BT",os:["mac"]},{name:"Futura Lt BT",value:"Futura Lt BT",os:["mac"]},{name:"Futura Md BT",value:"Futura Md BT",os:["mac"]},{name:"FuturaBlack BT",value:"FuturaBlack BT",os:["mac"]},{name:"GDT",value:"GDT"},{name:"GENISO",value:"GENISO"},{name:"Gabriola",value:"Gabriola",os:["win"]},{name:"Gadugi",value:"Gadugi",os:["win"]},{name:"Galliard BT",value:"Galliard BT"},{name:"Garamond",value:"Garamond"},{name:"Garamond Premr Pro",value:"Garamond Premr Pro"},{name:"Garamond Premr Pro Smbd",value:"Garamond Premr Pro Smbd"},{name:"Gargi",value:"Gargi",fileNames:["gargi.ttf"],os:["lin"]},{name:"Garuda",value:"Garuda",os:["lin"]},{name:"Gautami",value:"Gautami"},{name:"Geeza Pro",value:"Geeza Pro",os:["mac"]},{name:"Geneva",value:"Geneva",os:["mac"]},{name:"Gentium Basic",value:"Gentium Basic",fileNames:["gentium_basic.ttf","gentium_basic_bold.ttf","gentium_basic_bold_italic.ttf","gentium_basic_italic.ttf"]},{name:"Gentium Book Basic",value:"Gentium Book Basic",fileNames:["gentium_book_basic.ttf","gentium_book_basic_bold.ttf","gentium_book_basic_bold_italic.ttf","gentium_book_basic_italic.ttf"]},{name:"Geometr231 BT",value:"Geometr231 BT"},{name:"Geometr231 Hv BT",value:"Geometr231 Hv BT"},{name:"Geometr231 Lt BT",value:"Geometr231 Lt BT"},{name:"Georgia",value:"Georgia",os:["win","mac"]},{name:"Giddyup Std",value:"Giddyup Std"},{name:"Gigi",value:"Gigi"},{name:"Gill Sans",value:"Gill Sans",os:["mac","win"]},{name:"Gill Sans MT",value:"Gill Sans MT",os:["mac","win"]},{name:"Gill Sans MT Condensed",value:"Gill Sans MT Condensed",os:["mac","win"]},{name:"Gill Sans MT Ext Condensed Bold",value:"Gill Sans MT Ext Condensed Bold",os:["mac"]},{name:"Gill Sans Ultra Bold",value:"Gill Sans Ultra Bold",os:["mac","win"]},{name:"Gill Sans Ultra Bold Condensed",value:"Gill Sans Ultra Bold Condensed",os:["mac","win"]},{name:"Gisha",value:"Gisha"},{name:"Gloucester MT Extra Condensed",value:"Gloucester MT Extra Condensed"},{name:"Gotham",value:"Gotham"},{name:"Gotham Bold",value:"Gotham Bold"},{name:"GothicE",value:"GothicE"},{name:"GothicG",value:"GothicG"},{name:"GothicI",value:"GothicI"},{name:"Goudy Old Style",value:"Goudy Old Style"},{name:"Goudy Stout",value:"Goudy Stout",fileNames:["goudy_stout.ttf"]},{name:"GoudyHandtooled BT",value:"GoudyHandtooled BT"},{name:"GreekC",value:"GreekC",fileNames:["greekc.ttf"]},{name:"GreekS",value:"GreekS",fileNames:["greeks.ttf"]},{name:"Gubbi",value:"Gubbi",fileNames:["gubbi.ttf"],os:["lin"]},{name:"Gujarati MT",value:"Gujarati MT",os:["mac"]},{name:"Gujarati Sangam MN",value:"Gujarati Sangam MN",os:["mac"]},{name:"Gulim",value:"Gulim"},{name:"GulimChe",value:"GulimChe"},{name:"Gungsuh",value:"Gungsuh"},{name:"GungsuhChe",value:"GungsuhChe"},{name:"Gurmukhi MN",value:"Gurmukhi MN",os:["mac"]},{name:"Gurmukhi MT",value:"Gurmukhi MT",os:["mac"]},{name:"Gurmukhi Sangam MN",value:"Gurmukhi Sangam MN",os:["mac"]},{name:"Haettenschweiler",value:"Haettenschweiler"},{name:"Harlow Solid Italic",value:"Harlow Solid Italic"},{name:"Harrington",value:"Harrington"},{name:"Heather",value:"Heather"},{name:"Heather Script One",value:"Heather Script One"},{name:"Heiti SC",value:"Heiti SC",os:["mac"]},{name:"Heiti TC",value:"Heiti TC",os:["mac"]},{name:"Helvetica",value:"Helvetica",os:["mac"]},{name:"Helvetica Neue",value:"Helvetica Neue",os:["mac"]},{name:"Herculanum",value:"Herculanum",os:["mac"]},{name:"High Tower Text",value:"High Tower Text"},{name:"Hiragino Kaku Gothic Pro",value:"Hiragino Kaku Gothic Pro",os:["mac"]},{name:"Hiragino Kaku Gothic ProN",value:"Hiragino Kaku Gothic ProN",os:["mac"]},{name:"Hiragino Kaku Gothic Std",value:"Hiragino Kaku Gothic StdN",os:["mac"]},{name:"Hiragino Kaku Gothic ProN",value:"Hiragino Kaku Gothic ProN",os:["mac"]},{name:"Hiragino Maru Pro",value:"Hiragino Maru Pro",os:["mac"]},{name:"Hiragino Maru ProN",value:"Hiragino Maru ProN",os:["mac"]},{name:"Hiragino Mincho Pro",value:"Hiragino Mincho Pro",os:["mac"]},{name:"Hiragino Mincho ProN",value:"Hiragino Mincho ProN",os:["mac"]},{name:"Hiragino Sans",value:"Hiragino Sans",os:["mac"]},{name:"Hiragino Sans GB",value:"Hiragino Sans GB",os:["mac"]},{name:"Hobo Std",value:"Hobo Std"},{name:"Hoefler Text",value:"Hoefler Text",os:["mac"]},{name:"Humanst521 BT",value:"Humanst521 BT"},{name:"Humanst521 Lt BT",value:"Humanst521 Lt BT"},{name:"ISOCP",value:"ISOCP"},{name:"ISOCP2",value:"ISOCP2"},{name:"ISOCP3",value:"ISOCP3"},{name:"ISOCPEUR",value:"ISOCPEUR"},{name:"ISOCT",value:"ISOCT"},{name:"ISOCT2",value:"ISOCT2"},{name:"ISOCT3",value:"ISOCT3"},{name:"ISOCTEUR",value:"ISOCTEUR"},{name:"ITF Devanagari",value:"ITF Devanagari",os:["mac"]},{name:"ITF Devanagari Marathi",value:"ITF Devanagari, Marathi",os:["mac"]},{name:"Impact",value:"Impact",os:["win","mac"]},{name:"Imprint MT Shadow",value:"Imprint MT Shadow"},{name:"InaiMathi",value:"InaiMathi",os:["mac"]},{name:"Incised901 BT",value:"Incised901 BT"},{name:"Incised901 Bd BT",value:"Incised901 Bd BT"},{name:"Incised901 Lt BT",value:"Incised901 Lt BT"},{name:"Inconsolata",value:"Inconsolata",fileNames:["inconsolata.otf"]},{name:"Informal Roman",value:"Informal Roman"},{name:"Informal011 BT",value:"Informal011 BT"},{name:"Interstate",value:"Interstate"},{name:"Iowan Old Style",value:"Iowan Old Style",os:["mac"]},{name:"IrisUPC",value:"IrisUPC"},{name:"Iskoola Pota",value:"Iskoola Pota"},{name:"Italic",value:"Italic"},{name:"ItalicC",value:"ItalicC"},{name:"ItalicT",value:"ItalicT"},{name:"Jamrul",value:"Jamrul",fileNames:["jamrul.ttf"],os:["lin"]},{name:"JasmineUPC",value:"JasmineUPC"},{name:"Jazz LET",value:"Jazz LET"},{name:"Jester",value:"Jester"},{name:"Jokerman",value:"Jokerman"},{name:"Juice ITC",value:"Juice ITC"},{name:"Kabel Bk BT",value:"Kabel Bk BT"},{name:"Kabel Ult BT",value:"Kabel Ult BT"},{name:"KacstBook",value:"KacstBook",fileNames:["kacstbook.ttf"],os:["win","lin"]},{name:"KacstLetter",value:"KacstLetter",fileNames:["kacstletter.ttf"],os:["win","lin"]},{name:"KacstOffice",value:"KacstOffice",fileNames:["kacstoffice.ttf"],os:["win","lin"]},{name:"KacstNaskh",value:"KacstNaskh",fileNames:["kacstnaskh.ttf"],os:["win","lin"]},{name:"KacstTitlel",value:"KacstTitlel",fileNames:["kacsttitlel.ttf"],os:["win","lin"]},{name:"KaiTi",value:"KaiTi"},{name:"Kailasa",value:"Kailasa",os:["mac"]},{name:"Kalapi",value:"Kalapi",os:["lin"]},{name:"Kalinga",value:"Kalinga"},{name:"Kalimati",value:"Kalimati",os:["lin"]},{name:"Kannada MN",value:"Kannada MN",os:["mac"]},{name:"Kannada Sangam MN",value:"Kannada Sangam MN",os:["mac"]},{name:"Kartika",value:"Kartika"},{name:"Karumbi",value:"Karumbi",os:["lin"]},{name:"Kaufmann BT",value:"Kaufmann BT"},{name:"Kaufmann Bd BT",value:"Kaufmann Bd BT"},{name:"Kefa",value:"Kefa",os:["mac"]},{name:"Khmer MN",value:"Khmer MN",os:["mac"]},{name:"Khmer OS",value:"Khmer OS",os:["lin"]},{name:"Khmer Sangam MN",value:"Khmer Sangam MN",os:["mac"]},{name:"Khmer UI",value:"Khmer UI",os:["lin"]},{name:"Kinnari",value:"Kinnari",os:["lin"]},{name:"KodchiangUPC",value:"KodchiangUPC"},{name:"Kohinoor Bangla",value:"Kohinoor Bangla",os:["mac"]},{name:"Kohinoor Devanagari",value:"Kohinoor Devanagari",os:["mac"]},{name:"Kohinoor Telugu",value:"Kohinoor Telugu",os:["mac"]},{name:"Kokila",value:"Kokila"},{name:"Kokonor",value:"Kokonor",os:["mac"]},{name:"Korinna BT",value:"Korinna BT"},{name:"Kozuka Gothic Pr6N B",value:"Kozuka Gothic Pr6N B"},{name:"Kozuka Gothic Pr6N EL",value:"Kozuka Gothic Pr6N EL"},{name:"Kozuka Gothic Pr6N H",value:"Kozuka Gothic Pr6N H"},{name:"Kozuka Gothic Pr6N L",value:"Kozuka Gothic Pr6N L"},{name:"Kozuka Gothic Pr6N M",value:"Kozuka Gothic Pr6N M"},{name:"Kozuka Gothic Pr6N R",value:"Kozuka Gothic Pr6N R"},{name:"Kozuka Gothic Pro B",value:"Kozuka Gothic Pro B"},{name:"Kozuka Gothic Pro EL",value:"Kozuka Gothic Pro EL"},{name:"Kozuka Gothic Pro H",value:"Kozuka Gothic Pro H"},{name:"Kozuka Gothic Pro L",value:"Kozuka Gothic Pro L"},{name:"Kozuka Gothic Pro M",value:"Kozuka Gothic Pro M"},{name:"Kozuka Gothic Pro R",value:"Kozuka Gothic Pro R"},{name:"Kozuka Mincho Pr6N B",value:"Kozuka Mincho Pr6N B"},{name:"Kozuka Mincho Pr6N EL",value:"Kozuka Mincho Pr6N EL"},{name:"Kozuka Mincho Pr6N H",value:"Kozuka Mincho Pr6N H"},{name:"Kozuka Mincho Pr6N L",value:"Kozuka Mincho Pr6N L"},{name:"Kozuka Mincho Pr6N M",value:"Kozuka Mincho Pr6N M"},{name:"Kozuka Mincho Pr6N R",value:"Kozuka Mincho Pr6N R"},{name:"Kozuka Mincho Pro B",value:"Kozuka Mincho Pro B"},{name:"Kozuka Mincho Pro EL",value:"Kozuka Mincho Pro EL"},{name:"Kozuka Mincho Pro H",value:"Kozuka Mincho Pro H"},{name:"Kozuka Mincho Pro L",value:"Kozuka Mincho Pro L"},{name:"Kozuka Mincho Pro M",value:"Kozuka Mincho Pro M"},{name:"Kozuka Mincho Pro R",value:"Kozuka Mincho Pro R"},{name:"Kristen ITC",value:"Kristen ITC"},{name:"Krungthep",value:"Krungthep",os:["mac"]},{name:"KufiStandartGK",value:"KufiStandartGK",os:["mac"]},{name:"Kunstler Script",value:"Kunstler Script"},{name:"Laksaman",value:"Laksaman",os:["lin"]},{name:"Lao MN",value:"Lao MN",os:["mac"]},{name:"Lao Sangam MN",value:"Lao Sangam MN",os:["mac"]},{name:"Lao UI",value:"Lao UI",os:["mac"]},{name:"Latha",value:"Latha"},{name:"Laveric",value:"Laveric",fileNames:["laverick_bold.ttf","laverick.ttf"]},{name:"Leelawadee",value:"Leelawadee",os:["win"]},{name:"Letter Gothic Std",value:"Letter Gothic Std"},{name:"Levenim MT",value:"Levenim MT"},{name:"Liberation Mono",value:"Liberation Mono",fileNames:["liberation_mono_bold.ttf","liberation_mono_bold_italic.ttf","liberation_mono_italic.ttf","liberation-mono_regular.ttf"],os:["win","lin","mac"]},{name:"Liberation Sans Narrow",value:"Liberation Sans Narrow",fileNames:["liberation_sans_narrow.ttf","liberation_sans_narrow_bold.ttf","liberation_sans_narrow_bold_italic.ttf","liberation_sans_narrow_italic.ttf"],os:["win","lin","mac"]},{name:"Liberation Sans",value:"Liberation Sans",fileNames:["liberation_sans.otf","liberation_sans_bold.otf","liberation_sans_bold_italic.otf","liberation_sans_italic.otf"],os:["win","lin","mac"]},{name:"Liberation Serif",value:"Liberation Serif",fileNames:["liberation_serif_bold.ttf","liberation_serif_bold_italic.ttf","liberation_serif_italic.ttf","liberation_serif_regular.ttf"],os:["win","lin","mac"]},{name:"LilyUPC",value:"LilyUPC"},{name:"Lithograph",value:"Lithograph"},{name:"Lithograph Light",value:"Lithograph Light"},{name:"Lithos Pro Regular",value:"Lithos Pro Regular"},{name:"Lohit Devanagari",value:"Lohit Devanagari",fileNames:["lohit_devanagari.ttf"],os:["lin"]},{name:"Lohit Telugu",value:"Lohit Telugu",fileNames:["lohit_telugu.ttf"],os:["lin"]},{name:"Loma",value:"Loma",os:["lin"]},{name:"Lucida Bright",value:"Lucida Bright",os:["win"]},{name:"Lucida Calligraphy",value:"Lucida Calligraphy",os:["win"]},{name:"Lucida Console",value:"Lucida Console",os:["win"]},{name:"Lucida Fax",value:"Lucida Fax"},{name:"Lucida Grande",value:"Lucida Grande",os:["mac"]},{name:"Lucida Handwriting",value:"Lucida Handwriting"},{name:"Lucida Sans",value:"Lucida Sans"},{name:"Lucida Sans Typewriter",value:"Lucida Sans Typewriter"},{name:"Lucida Sans Unicode",value:"Lucida Sans Unicode",os:["win"]},{name:"Luminari",value:"Luminari",os:["mac"]},{name:"Lydian BT",value:"Lydian BT"},{name:"MONO",value:"MONO"},{name:"MS Gothic",value:"MS Gothic",os:["win"]},{name:"MS LineDraw",value:"MS LineDraw",os:["win"]},{name:"MS Mincho",value:"MS Mincho",os:["win"]},{name:"MS Outlook",value:"MS Outlook",os:["win"]},{name:"MS PGothic",value:"MS PGothic",os:["win"]},{name:"MS PMincho",value:"MS PMincho",os:["win"]},{name:"MS Reference Sans Serif",value:"MS Reference Sans Serif",os:["win"]},{name:"MS Reference Specialty",value:"MS Reference Specialty",os:["win"]},{name:"MS Sans Serif",value:"MS Sans Serif",os:["win"]},{name:"MS Serif",value:"MS Serif",os:["win"]},{name:"MS UI Gothic",value:"MS UI Gothic",os:["win"]},{name:"MT Extra",value:"MT Extra"},{name:"MV Boli",value:"MV Boli",os:["win"]},{name:"Magneto",value:"Magneto"},{name:"Maiandra GD",value:"Maiandra GD"},{name:"Malayalam MN",value:"Malayalam MN",os:["mac"]},{name:"Malayalam Sangam MN",value:"Malayalam Sangam MN",os:["mac"]},{name:"Malgun Gothic",value:"Malgun Gothic",os:["win"]},{name:"Mangal",value:"Mangal"},{name:"Manjari",value:"Manjari",fileNames:["manjari_bold.ttf","manjari_regular.ttf"],os:["lin"]},{name:"Marigold",value:"Marigold"},{name:"Marion",value:"Marion",os:["mac"]},{name:"Marker Felt",value:"Marker Felt",fileNames:["marker_felt.ttf"],os:["mac"]},{name:"Marlett",value:"Marlett",os:["win"]},{name:"Matisse ITC",value:"Matisse ITC"},{name:"Matura MT Script Capitals",value:"Matura MT Script Capitals"},{name:"Meera",value:"Meera",os:["lin"]},{name:"Meera Inimai",value:"Meera Inimai",fileNames:["meera_inimai_regular.ttf"],os:["lin"]},{name:"Meiryo",value:"Meiryo"},{name:"Meiryo UI",value:"Meiryo UI"},{name:"Menlo",value:"Menlo",os:["mac"]},{name:"Mesquite Std",value:"Mesquite Std"},{name:"Microsoft Himalaya",value:"Microsoft Himalaya",os:["win"]},{name:"Microsoft JhengHei",value:"Microsoft JhengHei",os:["win"]},{name:"Microsoft JhengHei UI",value:"Microsoft JhengHei UI",os:["win"]},{name:"Microsoft New Tai Lue",value:"Microsoft New Tai Lue",os:["win"]},{name:"Microsoft PhagsPa",value:"Microsoft PhagsPa",os:["win"]},{name:"Microsoft Sans Serif",value:"Microsoft Sans Serif",os:["win","mac"]},{name:"Microsoft Tai Le",value:"Microsoft Tai Le",os:["win"]},{name:"Microsoft Uighur",value:"Microsoft Uighur",os:["win"]},{name:"Microsoft YaHei",value:"Microsoft YaHei",os:["win"]},{name:"Microsoft YaHei UI",value:"Microsoft YaHei UI",os:["win"]},{name:"Microsoft Yi Baiti",value:"Microsoft Yi Baiti",os:["win"]},{name:"MingLiU",value:"MingLiU",os:["win"]},{name:"MingLiU-ExtB",value:"MingLiU-ExtB",os:["win"]},{name:"MingLiU_HKSCS",value:"MingLiU_HKSCS",os:["win"]},{name:"MingLiU_HKSCS-ExtB",value:"MingLiU_HKSCS-ExtB",os:["win"]},{name:"Minion",value:"Minion"},{name:"Minion Pro",value:"Minion Pro"},{name:"Minion Pro Cond",value:"Minion Pro Cond"},{name:"Minion Pro Med",value:"Minion Pro Med"},{name:"Minion Pro SmBd",value:"Minion Pro SmBd"},{name:"Miriam",value:"Miriam",os:["win","lin"]},{name:"Miriam Fixed",value:"Miriam Fixed",os:["win","lin"]},{name:"Miriam Libre",value:"Miriam Libre",fileNames:["miriam_libre_bold.ttf","miriam_libre_regular.ttf"],os:["win","lin"]},{name:"Mishafi",value:"Mishafi",os:["mac"]},{name:"Mishafi Gold",value:"Mishafi Gold",os:["mac"]},{name:"Mistral",value:"Mistral"},{name:"Mitra Mono",value:"Mitra Mono",os:["lin"]},{name:"Modern",value:"Modern"},{name:"Modern No. 20",value:"Modern No. 20"},{name:"Mona Lisa Solid ITC TT",value:"Mona Lisa Solid ITC TT"},{name:"Monaco",value:"Monaco",os:["mac"]},{name:"Mongolian Baiti",value:"Mongolian Baiti",os:["win"]},{name:"Monospac821 BT",value:"Monospac821 BT"},{name:"Monotxt",value:"Monotxt"},{name:"Monotype Corsiva",value:"Monotype Corsiva"},{name:"MoolBoran",value:"MoolBoran"},{name:"Mshtakan",value:"Mshtakan",os:["mac"]},{name:"Mukti Narrow",value:"Mukti Narrow",fileNames:["mukti_narrow.ttf","mukti_narrow_bold.ttf"],os:["lin"]},{name:"Muna",value:"Muna",os:["mac"]},{name:"Muanmar MN",value:"Muanmar MN",os:["mac"]},{name:"Muanmar Sangam MN",value:"Muanmar Sangam MN",os:["mac"]},{name:"Myriad Arabic",value:"Myriad Arabic"},{name:"Myriad Hebrew",value:"Myriad Hebrew"},{name:"Myriad Pro",value:"Myriad Pro"},{name:"Myriad Pro Cond",value:"Myriad Pro Cond"},{name:"Myriad Pro Light",value:"Myriad Pro Light"},{name:"Myriad Web Pro",value:"Myriad Web Pro"},{name:"NSimSun",value:"NSimSun",os:["win"]},{name:"Nadeem",value:"Nadeem",os:["mac"]},{name:"Nakula",value:"Nakula",fileNames:["nakula_regular.ttf"],os:["lin"]},{name:"Narkisim",value:"Narkisim"},{name:"Navuli",value:"Navuli",os:["lin"]},{name:"News Gothic",value:"News Gothic"},{name:"NewsGoth BT",value:"NewsGoth BT"},{name:"New Peninim MT",value:"New Peninim MT",os:["mac"]},{name:"Niagara Engraved",value:"Niagara Engraved"},{name:"Niagara Solid",value:"Niagara Solid"},{name:"Nimbus Roman",value:"Nimbus Roman",os:["lin"]},{name:"Nimbus Sans",value:"Nimbus Sans",os:["lin"]},{name:"Nimbus Sans Narrow",value:"Nimbus Sans Narrow",os:["lin"]},{name:"Nirmala UI",value:"Nirmala UI",os:["win"]},{name:"Norasi",value:"Norasi",fileNames:["norasi.ttf","norasi_bold.ttf","norasi_bold_italic.ttf","norasi_italic.ttf"],os:["lin"]},{name:"Noteworthy",value:"Noteworthy",os:["mac"]},{name:"Noto Kufi Arabic",value:"Noto Kufi Arabic",os:["mac"]},{name:"Noto Mono",value:"Noto Mono",fileNames:["noto_mono_regular.ttf"],os:["win","lin"]},{name:"Noto Nastaliq Urdu",value:"Noto Nastaliq Urdu",os:["mac"]},{name:"Noto Sans",value:"Noto Sans",fileNames:["noto_sans_bold.ttf","noto_sans_bold_italic.ttf","noto_sans_italic.ttf","noto_sans_regular.ttf"],os:["win","lin"]},{name:"Noto Sans Arabic UI",value:"Noto Sans Arabic UI",os:["win","lin"]},{name:"Noto Sans CJK HK",value:"Noto Sans CJK HK",os:["win","lin"]},{name:"Noto Sans CJK JP",value:"Noto Sans CJK JP",os:["win","lin"]},{name:"Noto Sans CJK KR",value:"Noto Sans CJK KR",os:["win","lin"]},{name:"Noto Sans CJK SC",value:"Noto Sans CJK SC",fileNames:["noto_sans_cjk_sc_black.otf","noto_sans_cjk_sc_bold.otf","noto_sans_cjk_sc_demilight.otf","noto_sans_cjk_sc_light.otf","noto_sans_cjk_sc_medium.otf","noto_sans_cjk_sc_regular.otf","noto_sans_cjk_sc_thin.otf"],os:["win","lin"]},{name:"Noto Sans CJK TC",value:"Noto Sans CJK TC",os:["win","lin"]},{name:"Noto Sans Lisu",value:"Noto Sans Lisu",os:["win","lin"]},{name:"Noto Sans Mono CJK HK",value:"Noto Sans Mono CJK HK",os:["win","lin"]},{name:"Noto Sans Mono CJK JP",value:"Noto Sans Mono CJK JP",os:["win","lin"]},{name:"Noto Sans Mono CJK KR",value:"Noto Sans Mono CJK KR",os:["win","lin"]},{name:"Noto Sans Mono CJK SC",value:"Noto Sans Mono CJK SC",os:["win","lin"]},{name:"Noto Sans Mono CJK TC",value:"Noto Sans Mono CJK TC",os:["win","lin"]},{name:"Noto Serif",value:"Noto Serif",fileNames:["noto_serif_regular.ttf","noto_serif_italic.ttf","noto_serif_bold_italic.ttf","noto_serif_bold.ttf"],os:["win","lin"]},{name:"Noto Serif CJK JP",value:"Noto Serif CJK JP",os:["win","lin"]},{name:"Noto Serif CJK KR",value:"Noto Serif CJK KR",os:["win","lin"]},{name:"Noto Serif CJK SC",value:"Noto Serif CJK SC",os:["win","lin"]},{name:"Noto Serif CJK TC",value:"Noto Serif CJK TC",os:["win","lin"]},{name:"Noto Serif Georgian",value:"Noto Serif Georgian",os:["win","lin"]},{name:"Noto Serif Hebrew",value:"Noto Serif Hebrew",os:["win","lin"]},{name:"Noto Serif Italic",value:"Noto Serif Italic",os:["win","lin"]},{name:"Noto Serif Lao",value:"Noto Serif Lao",os:["win","lin"]},{name:"Nueva Std",value:"Nueva Std"},{name:"Nueva Std Cond",value:"Nueva Std Cond"},{name:"Nyala",value:"Nyala"},{name:"OCR A Extended",value:"OCR A Extended"},{name:"OCR A Std",value:"OCR A Std"},{name:"OCR-A BT",value:"OCR-A BT"},{name:"OCR-B 10 BT",value:"OCR-B 10 BT"},{name:"Old English Text MT",value:"Old English Text MT"},{name:"Onyx",value:"Onyx"},{name:"Onyx BT",value:"Onyx BT"},{name:"OpenSymbol",value:"OpenSymbol",fileNames:["opensymbol.ttf"],os:["win","lin"]},{name:"Optima",value:"Optima",os:["mac"]},{name:"Orator Std",value:"Orator Std"},{name:"Oriya MN",value:"Oriya MN",os:["mac"]},{name:"Oriya Sangam MN",value:"Oriya Sangam MN",os:["mac"]},{name:"Osaka",value:"Osaka",fileNames:["osaka.ttf"]},{name:"Oswald",value:"Oswald",fileNames:["oswald_bold.ttf","oswald_extralight.ttf","oswald_light.ttf","oswald_medium.ttf","oswald_regular.ttf","oswald_semibold.ttf"],os:["win","lin"]},{name:"Ouverture script",value:"Ouverture script",fileNames:["ouverture_script.ttf"]},{name:"OzHandicraft BT",value:"OzHandicraft BT"},{name:"PMingLiU",value:"PMingLiU",os:["win"]},{name:"PMingLiU-ExtB",value:"PMingLiU-ExtB",os:["win"]},{name:"PT Mono",value:"PT Mono",os:["mac"]},{name:"PT Sans",value:"PT Sans",os:["mac"]},{name:"PT Sans Caption",value:"PT Mono Caption",os:["mac"]},{name:"PT Sans Narrow",value:"PT Sans Narrow",os:["mac"]},{name:"PT Serif",value:"PT Serif",os:["mac"]},{name:"PT Serif Caption",value:"PT Serif Caption",os:["mac"]},{name:"Padauk",value:"Padauk",fileNames:["padauk_bold.ttf","padauk_regular.ttf"],os:["lin"]},{name:"Padauk Book",value:"Padauk Book",fileNames:["padauk_book_bold.ttf","padauk_book.ttf"],os:["lin"]},{name:"Palace Script MT",value:"Palace Script MT"},{name:"Pagul",value:"Pagul",os:["lin"]},{name:"Palatino",value:"Palatino",os:["win","mac"]},{name:"Palatino Linotype",value:"Palatino Linotype",os:["win","mac"]},{name:"PanRoman",value:"PanRoman"},{name:"Papyrus",value:"Papyrus",os:["mac"]},{name:"Parchment",value:"Parchment"},{name:"Party LET",value:"Party LET"},{name:"Perpetua",value:"Perpetua"},{name:"Perpetua Titling MT",value:"Perpetua Titling MT"},{name:"Phetsarath OT",value:"Phetsarath OT",fileNames:["phetsarath_ot.ttf"],os:["lin"]},{name:"Phosphate",value:"Phosphate",os:["mac"]},{name:"PingFang HK",value:"PingFang HK",os:["mac"]},{name:"PingFang SC",value:"PingFang SC",os:["mac"]},{name:"PingFang TC",value:"PingFang TC",os:["mac"]},{name:"Plantagenet Cherokee",value:"Plantagenet Cherokee",os:["mac"]},{name:"Playbill",value:"Playbill"},{name:"Poor Richard",value:"Poor Richard"},{name:"Poplar Std",value:"Poplar Std"},{name:"PosterBodoni BT",value:"PosterBodoni BT"},{name:"Pothana2000",value:"Pothana2000",os:["lin"]},{name:"Prestige Elite Std",value:"Prestige Elite Std"},{name:"Princetown Let",value:"Princetown Let"},{name:"Pristina",value:"Pristina"},{name:"Proxy 1",value:"Proxy 1",fileNames:["proxy_1.ttf"]},{name:"Proxy 2",value:"Proxy 2",fileNames:["proxy_2.ttf"]},{name:"Proxy 3",value:"Proxy 3",fileNames:["proxy_3.ttf"]},{name:"Proxy 4",value:"Proxy 4",fileNames:["proxy_4.ttf"]},{name:"Proxy 5",value:"Proxy 5",fileNames:["proxy_5.ttf"]},{name:"Proxy 6",value:"Proxy 6",fileNames:["proxy_6.ttf"]},{name:"Proxy 7",value:"Proxy 7",fileNames:["proxy_7.ttf"]},{name:"Proxy 8",value:"Proxy 8",fileNames:["proxy_8.ttf"]},{name:"Proxy 9",value:"Proxy 9",fileNames:["proxy_9.ttf"]},{name:"PTBarnum BT",value:"PTBarnum BT"},{name:"Purisa",value:"Purisa",fileNames:["purisa.ttf","purisa_bold.ttf","purisa_boldoblique.ttf","purisa_oblique.ttf"],os:["lin"]},{name:"Raanana",value:"Raanana",os:["mac"]},{name:"Raavi",value:"Raavi"},{name:"Rachana",value:"Rachana",os:["lin"]},{name:"Rage Italic",value:"Rage Italic"},{name:"Ravie",value:"Ravie"},{name:"Rekha",value:"Rekha",fileNames:["rekha.ttf"],os:["lin"]},{name:"Roboto",value:"Roboto",fileNames:["roboto_bold.ttf","roboto_bold_italic.ttf","roboto_italic.ttf","roboto_regular.ttf"],os:["win","lin","mac"]},{name:"Roboto Black",value:"Roboto Black",fileNames:["roboto_black.ttf","roboto_black_italic.ttf"],os:["win","lin","mac"]},{name:"Roboto Light",value:"Roboto Light",fileNames:["roboto_light.ttf","roboto_light_italic.ttf"],os:["win","lin","mac"]},{name:"Roboto Medium",value:"Roboto Medium",fileNames:["roboto_medium.ttf","roboto_medium_italic.ttf"],os:["win","lin","mac"]},{name:"Roboto Thin",value:"Roboto Thin",fileNames:["roboto_thin.ttf","roboto_thin_italic.ttf"],os:["win","lin","mac"]},{name:"Rockwell",value:"Rockwell",os:["mac"]},{name:"Rockwell Condensed",value:"Rockwell Condensed"},{name:"Rockwell Extra Bold",value:"Rockwell Extra Bold"},{name:"Rod",value:"Rod"},{name:"Roman",value:"Roman"},{name:"RomanC",value:"RomanC",fileNames:["romanc.ttf"]},{name:"RomanD",value:"RomanD",fileNames:["romand.ttf"]},{name:"RomanS",value:"RomanS",fileNames:["romans.ttf"]},{name:"RomanT",value:"RomanT",fileNames:["romant.ttf"]},{name:"Romantic",value:"Romantic"},{name:"Rosewood Std Regular",value:"Rosewood Std Regular"},{name:"Rubik",value:"Rubik",fileNames:["rubik_bold.ttf","rubik_bold_italic.ttf","rubik_italic.ttf","rubik_regular.ttf","rubik_extrabold.ttf","rubik_extrabold_italic.ttf","rubik_semibold.ttf","rubik_semibold_italic.ttf"],os:["lin"]},{name:"Rubik Black",value:"Rubik Black",fileNames:["rubik_black.ttf","rubik_black_italic.ttf"],os:["lin"]},{name:"Rubik Light",value:"Rubik Light",fileNames:["rubik_light.ttf","rubik_light_italic.ttf"],os:["lin"]},{name:"Rubik Medium",value:"Rubik Medium",fileNames:["rubik_medium.ttf","rubik_medium_italic.ttf"],os:["lin"]},{name:"Russo One",value:"Russo One",fileNames:["russo_one_regular.ttf"],os:["lin"]},{name:"STIXGeneral",value:"STIXGeneral",os:["mac"]},{name:"STIXIntegralsD",value:"STIXIntegralsD",os:["mac"]},{name:"STIXIntegralsSm",value:"STIXIntegralsSm",os:["mac"]},{name:"STIXIntegralsUp",value:"STIXIntegralsUp",os:["mac"]},{name:"STIXIntegralsUpD",value:"STIXIntegralsUpD",os:["mac"]},{name:"STIXIntegralsUpSm",value:"STIXIntegralsUpSm",os:["mac"]},{name:"STIXNoneUnicode",value:"STIXNoneUnicode",os:["mac"]},{name:"STIXSizeFiveSym",value:"STIXSizeFiveSym",os:["mac"]},{name:"STIXSizeFourSym",value:"STIXSizeFourSym",os:["mac"]},{name:"STIXSizeOneSym",value:"STIXSizeOneSym",os:["mac"]},{name:"STIXSizeThreeSym",value:"STIXSizeThreeSym",os:["mac"]},{name:"STIXSizeTwoSym",value:"STIXSizeTwoSym",os:["mac"]},{name:"STIXVariants",value:"STIXVariants",os:["mac"]},{name:"STSong",value:"STSong",os:["mac"]},{name:"Saab",value:"Saab",fileNames:["saab.otf"],os:["lin"]},{name:"Sahadeva",value:"Sahadeva",os:["lin"]},{name:"Sakkal Majalla",value:"Sakkal Majalla"},{name:"Samanata",value:"Samanata",os:["lin"]},{name:"Samyak Devanagari",value:"Samyak Devanagari",os:["lin"]},{name:"Samyak Gujarati",value:"Samyak Gujarati",os:["lin"]},{name:"Samyak Malayalam",value:"Samyak Malayalam",os:["lin"]},{name:"Samyak Tamil",value:"Samyak Tamil",os:["lin"]},{name:"Sana",value:"Sana",os:["mac"]},{name:"SansSerif",value:"SansSerif"},{name:"Santa Fe LET",value:"Santa Fe LET"},{name:"Sarai",value:"Sarai",os:["lin"]},{name:"Sathu",value:"Sathu",os:["mac"]},{name:"Savoye LET",value:"Savoye LET",os:["mac"]},{name:"Sawasdee",value:"Sawasdee"},{name:"Script",value:"Script"},{name:"Scriptina",value:"Scriptina",fileNames:["scriptina.ttf"]},{name:"Script MT Bold",value:"Script MT Bold"},{name:"ScriptC",value:"ScriptC"},{name:"ScriptS",value:"ScriptS"},{name:"Segoe Print",value:"Segoe Print",os:["win"]},{name:"Segoe Script",value:"Segoe Script",os:["win"]},{name:"Segoe UI",value:"Segoe UI",os:["win"]},{name:"Segoe UI Light",value:"Segoe UI Light",os:["win"]},{name:"Segoe UI Semibold",value:"Segoe UI Semibold",os:["win"]},{name:"Segoe UI Semilight",value:"Segoe UI Semilight",os:["win"]},{name:"Segoe UI Symbol",value:"Segoe UI Symbol",os:["win"]},{name:"Seravek",value:"Seravek",os:["mac"]},{name:"Serifa",value:"Serifa"},{name:"Serifa BT",value:"Serifa BT"},{name:"Serifa Th BT",value:"Serifa Th BT"},{name:"ShelleyVolante BT",value:"ShelleyVolante BT"},{name:"Shree Devanagari 714",value:"Shree Devanagari 714",os:["mac"]},{name:"Sherwood",value:"Sherwood"},{name:"Shonar Bangla",value:"Shonar Bangla"},{name:"Showcard Gothic",value:"Showcard Gothic"},{name:"Shruti",value:"Shruti"},{name:"SignPainter",value:"SignPainter",os:["mac"]},{name:"Silom",value:"Silom",os:["mac"]},{name:"SimHei",value:"SimHei"},{name:"SimSun",value:"SimSun",os:["win"]},{name:"SimSun-ExtB",value:"SimSun-ExtB",os:["win"]},{name:"Simplex",value:"Simplex"},{name:"Simplified Arabic",value:"Simplified Arabic"},{name:"Simplified Arabic Fixed",value:"Simplified Arabic Fixed"},{name:"Sinhala MN",value:"Sinhala MN",os:["mac"]},{name:"Sinhala Sangam MN",value:"Sinhala Sangam MN",os:["mac"]},{name:"Skia",value:"Skia",os:["mac"]},{name:"Small Fonts",value:"Small Fonts"},{name:"Snap ITC",value:"Snap ITC",fileNames:["snap_itc.ttf"]},{name:"Snell Roundhand",value:"Snell Roundhand",os:["mac"]},{name:"Songti SC",value:"Songti SC",os:["mac"]},{name:"Songti TC",value:"Songti TC",os:["mac"]},{name:"Source Code Pro",value:"Source Code Pro",fileNames:["source_code_pro.ttf","source_code_pro_italic.ttf","source_code_pro_bold.ttf","source_code_pro_bold_italic.ttf"],os:["lin","mac"]},{name:"Source Code Pro Black",value:"Source Code Pro Black",fileNames:["source_code_pro_black.ttf","source_code_pro_black_italic.ttf"],os:["lin","mac"]},{name:"Source Code Pro Extra Light",value:"Source Code Pro Extra Light",fileNames:["source_code_pro_extra_light.ttf","source_code_pro_extra_light_italic.ttf"],os:["lin","mac"]},{name:"Source Code Pro Light",value:"Source Code Pro Light",fileNames:["source_code_pro_light.ttf","source_code_pro_light_italic.ttf"],os:["lin","mac"]},{name:"Source Code Pro Medium",value:"Source Code Pro Medium",fileNames:["source_code_pro_medium.ttf","source_code_pro_medium_italic.ttf"],os:["lin","mac"]},{name:"Source Code Pro Semibold",value:"Source Code Pro Semibold",fileNames:["source_code_pro_semibold.ttf","source_code_pro_semibold_italic.ttf"],os:["lin","mac"]},{name:"Source Serif Pro",value:"Source Serif Pro",fileNames:["source_serif_pro_bold.ttf","source_serif_pro_bold_italic.ttf","source_serif_pro_italic.ttf","source_serif_pro_regular.ttf"],os:["lin","mac"]},{name:"Source Serif Pro Black",value:"Source Serif Pro Black",fileNames:["source_serif_pro_black.ttf","source_serif_pro_black_italic.ttf"],os:["lin","mac"]},{name:"Source Serif Pro Extra Light",value:"Source Serif Pro Extra Light",fileNames:["source_serif_pro_extralight_italic.ttf","source_serif_pro_extralight.ttf"],os:["lin","mac"]},{name:"Source Serif Pro Light",value:"Source Serif Pro Light",fileNames:["source_serif_pro_light.ttf","source_serif_pro_light_italic.ttf"],os:["lin","mac"]},{name:"Source Serif Pro Semibold",value:"Source Serif Pro Semibold",fileNames:["source_serif_pro_semibold_italic.ttf","source_serif_pro_semibold.ttf"],os:["lin","mac"]},{name:"Source Sans Pro",value:"Source Sans Pro",fileNames:["source_sans_pro_bold.ttf","source_sans_pro_bold_italic.ttf","source_sans_pro_italic.ttf","source_sans_pro_regular.ttf"],os:["lin","mac"]},{name:"Source Sans Pro Black",value:"Source Sans Pro Black",fileNames:["source_sans_pro_black.ttf","source_sans_pro_black_italic.ttf"],os:["lin","mac"]},{name:"Source Sans Pro Extra Light",value:"Source Sans Pro Extra Light",fileNames:["source_sans_pro_extralight_italic.ttf","source_sans_pro_extralight.ttf"],os:["lin","mac"]},{name:"Source Sans Pro Light",value:"Source Sans Pro Light",fileNames:["source_sans_pro_light.ttf","source_sans_pro_light_italic.ttf"],os:["lin","mac"]},{name:"Source Sans Pro Semibold",value:"Source Sans Pro Semibold",fileNames:["source_sans_pro_semibold_italic.ttf","source_sans_pro_semibold.ttf"],os:["lin","mac"]},{name:"Souvenir Lt BT",value:"Souvenir Lt BT"},{name:"Staccato222 BT",value:"Staccato222 BT"},{name:"Steamer",value:"Steamer"},{name:"Stencil",value:"Stencil"},{name:"Square721 BT",value:"Square721 BT"},{name:"Stencil",value:"Stencil"},{name:"Stencil Std",value:"Stencil Std"},{name:"Stylus BT",value:"Stylus BT"},{name:"Subway",value:"Subway"},{name:"Sukhumvit Set",value:"Sukhumvit Set",os:["mac"]},{name:"Superclarendon",value:"Superclarendon",os:["mac"]},{name:"SuperFrench",value:"SuperFrench"},{name:"Suruma",value:"Suruma",fileNames:["suruma.ttf"],os:["lin"]},{name:"Swis721 BT",value:"Swis721 BT"},{name:"Swis721 BdCnOul BT",value:"Swis721 BdCnOul BT"},{name:"Swis721 BdOul BT",value:"Swis721 BdOul BT"},{name:"Swis721 Blk BT",value:"Swis721 Blk BT"},{name:"Swis721 BlkCn BT",value:"Swis721 BlkCn BT"},{name:"Swis721 BlkEx BT",value:"Swis721 BlkEx BT"},{name:"Swis721 BlkOul BT",value:"Swis721 BlkOul BT"},{name:"Swis721 Cn BT",value:"Swis721 Cn BT"},{name:"Swis721 Ex BT",value:"Swis721 Ex BT"},{name:"Swis721 Hv BT",value:"Swis721 Hv BT"},{name:"Swis721 Lt BT",value:"Swis721 Lt BT"},{name:"Swis721 LtCn BT",value:"Swis721 LtCn BT"},{name:"Swis721 LtEx BT",value:"Swis721 LtEx BT"},{name:"Swiss911 XCm BT",value:"Swiss911 XCm BT"},{name:"Syastro",value:"Syastro"},{name:"Sylfaen",value:"Sylfaen",os:["win"]},{name:"Symap",value:"Symap"},{name:"Symath",value:"Symath"},{name:"Symbol",value:"Symbol",os:["win","mac"]},{name:"Symeteo",value:"Symeteo"},{name:"Symusic",value:"Symusic",fileNames:["symusic.ttf"]},{name:"Synchro LET",value:"Synchro LET"},{name:"System",value:"System"},{name:"Tahoma",value:"Tahoma",os:["win","mac"]},{name:"Tamil MN",value:"Tamil MN",os:["mac"]},{name:"Tamil Sangam MN",value:"Tamil Sangam MN",os:["mac"]},{name:"TeamViewer8",value:"TeamViewer8"},{name:"Technic",value:"Technic"},{name:"Technical",value:"Technical"},{name:"TechnicBold",value:"TechnicBold"},{name:"TechnicLite",value:"TechnicLite"},{name:"Tekton Pro",value:"Tekton Pro"},{name:"Tekton Pro Cond",value:"Tekton Pro Cond"},{name:"Tekton Pro Ext",value:"Tekton Pro Ext"},{name:"Teletype",value:"Teletype",fileNames:["teletype_regular.ttf"]},{name:"Telugu MN",value:"Telugu MN",os:["mac"]},{name:"Telugu Sangam MN",value:"Telugu Sangam MN",os:["mac"]},{name:"Tempus Sans ITC",value:"Tempus Sans ITC"},{name:"Terminal",value:"Terminal"},{name:"Thonburi",value:"Thonburi",os:["mac"]},{name:"Tibetan Machine Uni",value:"Tibetan Machine Uni",fileNames:["tibetan_machine_uni.ttf"],os:["lin"]},{name:"Times New Roman",value:"Times New Roman",os:["win","mac"]},{name:"Times New Roman Baltic",value:"Times New Roman Baltic",os:["win","mac"]},{name:"Times New Roman CE",value:"Times New Roman CE",os:["win","mac"]},{name:"Times New Roman Cyr",value:"Times New Roman Cyr",os:["win","mac"]},{name:"Times New Roman Greek",value:"Times New Roman Greek",os:["win","mac"]},{name:"Times New Roman TUR",value:"Times New Roman TUR",os:["win","mac"]},{name:"Tlwg Mono",value:"Tlwg Mono",os:["lin"]},{name:"Tlwg Typewriter",value:"Tlwg Typewriter",fileNames:["tlwgtypewriter.ttf"],os:["lin"]},{name:"Tlwg Typist",value:"Tlwg Typist",os:["lin"]},{name:"Tlwg Typo",value:"Tlwg Typo",fileNames:["tlwg_typo.ttf"],os:["lin"]},{name:"Traditional Arabic",value:"Traditional Arabic"},{name:"Trajan",value:"Trajan"},{name:"Trajan Pro",value:"Trajan Pro"},{name:"Trattatello",value:"Trattatello",os:["mac"]},{name:"Trebuchet MS",value:"Trebuchet MS",os:["win","mac"]},{name:"Tubular",value:"Tubular",fileNames:["tubular_regular.ttf"]},{name:"Tunga",value:"Tunga"},{name:"Tw Cen MT",value:"Tw Cen MT"},{name:"Tw Cen MT Condensed",value:"Tw Cen MT Condensed"},{name:"Tw Cen MT Condensed Extra Bold",value:"Tw Cen MT Condensed Extra Bold"},{name:"Txt",value:"Txt"},{name:"TypoUpright BT",value:"TypoUpright BT"},{name:"URW Bookman L",value:"URW Gothic L",os:["lin"]},{name:"Ubuntu",value:"Ubuntu",os:["lin"]},{name:"Ubuntu",value:"Ubuntu",fileNames:["ubuntu_bold.ttf","ubuntu_bold_italic.ttf","ubuntu_italic.ttf","ubuntu_regular.ttf"],os:["lin"]},{name:"Umpush",value:"Umpush",os:["lin"]},{name:"Unicorn",value:"Unicorn",fileNames:["unicorn_regular.ttf"]},{name:"Univers",value:"Univers",fileNames:["univers.otf"]},{name:"Univers Condensed",value:"Univers Condensed"},{name:"UniversalMath1 BT",value:"UniversalMath1 BT"},{name:"Uroob",value:"Uroob",os:["lin"]},{name:"Utsaah",value:"Utsaah"},{name:"Vagabond",value:"Vagabond"},{name:"Vani",value:"Vani"},{name:"Vemana2000",value:"Vemana2000",os:["lin"]},{name:"Verdana",value:"Verdana",os:["win","mac"]},{name:"Vijaya",value:"Vijaya"},{name:"Viner Hand ITC",value:"Viner Hand ITC"},{name:"Vineta BT",value:"Vineta BT"},{name:"Vivaldi",value:"Vivaldi"},{name:"Vladimir Script",value:"Vladimir Script"},{name:"Vrinda",value:"Vrinda"},{name:"WP Arabic Sihafa",value:"WP Arabic Sihafa",fileNames:["wp_arabic_sihafa.ttf"]},{name:"WP ArabicScript Sihafa",value:"WP ArabicScript Sihafa",fileNames:["wp_arabicscript_sihafa.ttf"]},{name:"WP CyrillicA",value:"WP CyrillicA",fileNames:["wp_cyrillica.ttf"]},{name:"WP CyrillicB",value:"WP CyrillicB",fileNames:["wp_cyrillicb.ttf"]},{name:"WP Greek Century",value:"WP Greek Century",fileNames:["wp_greek_century.ttf"]},{name:"WP Greek Courier",value:"WP Greek Courier",fileNames:["wp_greek_courier.ttf"]},{name:"WP Greek Helve",value:"WP Greek Helve",fileNames:["wp_greek_helve.ttf"]},{name:"WP Hebrew David",value:"WP Hebrew David",fileNames:["wp_hebrew_david.ttf"]},{name:"WP MultinationalA Courier",value:"WP MultinationalA Courier",fileNames:["wp_multinationala_courier.ttf"]},{name:"WP MultinationalA Helve",value:"WP MultinationalA Helve",fileNames:["wp_multinationala_helve.ttf"]},{name:"WP MultinationalA Roman",value:"WP MultinationalA Roman",fileNames:["wp_multinationala_roman.ttf"]},{name:"WP MultinationalB Courier",value:"WP MultinationalB Courier",fileNames:["wp_multinationalb_courier.ttf"]},{name:"WP MultinationalB Helve",value:"WP MultinationalB Helve",fileNames:["wp_multinationalb_helve.ttf"]},{name:"WP MultinationalB Roman",value:"WP MultinationalB Roman",fileNames:["wp_multinationalb_roman.ttf"]},{name:"WST_Czec",value:"WST_Czec"},{name:"WST_Engl",value:"WST_Engl"},{name:"WST_Fren",value:"WST_Fren"},{name:"WST_Germ",value:"WST_Germ"},{name:"WST_Ital",value:"WST_Ital"},{name:"WST_Span",value:"WST_Span"},{name:"WST_Swed",value:"WST_Swed"},{name:"Waree",value:"Waree",fileNames:["waree.ttf"],os:["lin"]},{name:"Waseem",value:"Waseem",os:["mac"]},{name:"Webdings",value:"Webdings",os:["win","mac"]},{name:"Westminster",value:"Westminster"},{name:"Whitney",value:"Whitney"},{name:"Wide Latin",value:"Wide Latin"},{name:"Wingdings",value:"Wingdings",os:["win","mac"]},{name:"Wingdings 2",value:"Wingdings 2",os:["win","mac"]},{name:"Wingdings 3",value:"Wingdings 3",os:["win","mac"]},{name:"Yu Gothic",value:"Yu Gothic",os:["win"]},{name:"Yu Gothic UI",value:"Yu Gothic UI",os:["win"]},{name:"Zapf Dingbats",value:"Zapf Dingbats",os:["win"]},{name:"ZapfEllipt BT",value:"ZapfEllipt BT"},{name:"ZapfHumnst BT",value:"ZapfHumnst BT"},{name:"ZapfHumnst Dm BT",value:"ZapfHumnst Dm BT"},{name:"Zapfino",value:"Zapfino",os:["mac"]},{name:"Zurich BlkEx BT",value:"Zurich BlkEx BT"},{name:"Zurich Ex BT",value:"Zurich Ex BT"},{name:"ZWAdobeF",value:"ZWAdobeF"}];var Fn=a(747).promises,Gn=Fn.access,Un=Fn.readFile,Hn=Fn.writeFile,Kn=Fn.mkdir,zn=Fn.readdir,Wn=Fn.copyFile,qn="fonts",Vn=["Google Hangouts","Chromium PDF Viewer","CryptoTokenExtension","Web Store"],Jn=T().homedir(),Zn=c().join(Jn,".gologin","browser"),Xn=process.platform,$n=new WeakMap,Yn=new WeakMap,Qn=new WeakMap,ea=new WeakMap,na=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ze()(this,e),$n.set(this,{writable:!0,value:""}),Yn.set(this,{writable:!0,value:""}),Qn.set(this,{writable:!0,value:""}),ea.set(this,{writable:!0,value:""});var a=n.API_BASE_URL,t=n.USER_AGENT,r=void 0===t?"":t,o=n.ACCESS_TOKEN,i=void 0===o?"":o,s=n.TWO_FA_TOKEN,l=void 0===s?"":s;Rn()(this,$n,a),Rn()(this,Yn,r),Rn()(this,Qn,i),Rn()(this,ea,l)}var n,a,t,o,s;return $e()(e,[{key:"userAgent",set:function(e){e&&Rn()(this,Yn,e)}},{key:"accessToken",set:function(e){e&&Rn()(this,Qn,e)}},{key:"twoFaToken",set:function(e){e&&Rn()(this,ea,e)}},{key:"uploadCookies",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(n.length&&Array.isArray(n)&&e)return he().post("".concat(An()(this,$n),"/browser/").concat(e,"/cookies"),{body:n,headers:{Authorization:"Bearer ".concat(An()(this,Qn)),"user-agent":An()(this,Yn)},json:!0,maxAttempts:3,retryDelay:2e3,timeout:15e3}).then((function(){return console.log("cookies uploaded")}))}},{key:"uploadPasswords",value:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Array.isArray(a)&&a.length){var t=Dn(),r=Nn(a,n,t);return he().post("".concat(An()(this,$n),"/profiles-passwords"),{body:{browserId:e,iv:t,passwords:r},headers:{Authorization:"Bearer ".concat(An()(this,Qn)),"user-agent":An()(this,Yn)},json:!0,maxAttempts:3,retryDelay:2e3,timeout:1e4}).then((function(){return console.log("passwords uploaded")}))}}},{key:"downloadFonts",value:(s=r()(i().mark((function e(n,a){var t,r,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c().join(Zn,qn),e.next=3,Kn(t,{recursive:!0});case 3:return e.next=5,zn(t);case 5:if(r=e.sent,o=n.filter((function(e){return e.includes("adobe")||!r.includes(e)})),!(s=o.map((function(e){return he().get("https://fonts.gologin.com/"+e,{maxAttempts:5,retryDelay:2e3,timeout:5e3}).pipe((0,Ln.createWriteStream)(e.includes("adobe")?c().join(a,qn,e):c().join(t,e)))}))).length){e.next=11;break}return e.next=11,Promise.all(s);case 11:return s=n.map((function(e){return e.includes("adobe")?Promise.resolve():(0,ee.Z)({fn:function(){return Wn(c().join(t,e),c().join(a,qn,e))}})})),e.next=14,Promise.all(s);case 14:case"end":return e.stop()}}),e)}))),function(e,n){return s.apply(this,arguments)})},{key:"composeFonts",value:(o=r()(i().mark((function e(){var n,a,t,r,o,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>0&&void 0!==s[0]?s[0]:[],a=s.length>1?s[1]:void 0,t=s.length>2&&void 0!==s[2]&&s[2],n.length&&a){e.next=5;break}return e.abrupt("return");case 5:if(r=jn.filter((function(e){return!(!["Liberation Mono","Liberation Sans","Liberation Serif"].includes(e.value)||!t)||n.includes(e.value)})).reduce((function(e,n){return e.concat(n.fileNames||[])}),[]),!t||r.length){e.next=8;break}throw new Error("No fonts to download found. Please select at least 1 font in Fonts settings");case 8:return r.push("LICENSE.txt"),r.push("OFL.txt"),o=c().join(a,qn),e.next=13,Gn(o).then((function(){return!0}),(function(){return!1}));case 13:return e.sent&&(0,Ln.rmdirSync)(o,{recursive:!0}),e.next=17,Kn(o,{recursive:!0});case 17:return e.next=19,this.downloadFonts(r,a);case 19:if("linux"!==Xn){e.next=22;break}return e.next=22,this.copyFontsConfigFile(a);case 22:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"copyFontsConfigFile",value:(t=r()(i().mark((function e(n){var a,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Un(c().resolve(__dirname,"fonts_config"),"utf-8");case 4:return a=e.sent,t=a.replace(/\$\$GOLOGIN_FONTS\$\$/g,c().join(n,qn)),e.next=8,Hn(c().join(n,"Default","fonts_config"),t);case 8:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"getProfileChromeExtensions",value:(a=r()(i().mark((function e(n){var a,t,r,o,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],n){e.next=3;break}return e.abrupt("return",a);case 3:return e.next=5,Un(n,"utf-8");case 5:if(t=e.sent,r=JSON.parse(t),o=(null==r?void 0:r.extensions)||{settings:{}},s=o.settings||{},(l=Object.entries(s)).length){e.next=12;break}return e.abrupt("return",a);case 12:return l.forEach((function(e){var n=ye()(e,2),t=n[0],r=n[1].path.replace(/\\|@/g,"/"),o=new RegExp("^".concat(t,"|chrome-extensions/\\w+")),i=r.match(o);if(i){var s=ye()(i,1)[0].split("/").reverse(),l=ye()(s,1)[0];a.includes(l)||a.push(l)}})),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"setExtPaths",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=a.map((function(e){var n=e.split(c().sep).reverse(),a=ye()(n,1)[0],t=(void 0===a?"":a).split("@"),r=ye()(t,1)[0];return r?{path:e,originalId:r}:null})).filter(Boolean);if(t.length){var r=(null===(e=n.extensions)||void 0===e?void 0:e.settings)||{},o=Object.entries(r);return o.forEach((function(e){var n,a=ye()(e,2),o=a[0],i=a[1],s=void 0===i?{}:i,l=(null===(n=s.manifest)||void 0===n?void 0:n.name)||"",u=s.path||"",m="";if(u.includes("resources")||Vn.includes(l))delete r[o];else{if(u="win32"===Xn?u.replace(/\//g,"\\"):u.replace(/\\/g,"/"),r[o].path=u,u.includes("chrome-extensions")){var f=u.split(c().sep).reverse(),p=ye()(f,1)[0].split("@"),v=ye()(p,1);m=v[0]}else{var d=u.split(c().sep);if(2===d.length){var h=ye()(d,1);m=h[0]}}var g=m&&t.find((function(e){return e.path.includes(m)}));g&&(r[o].path=(null==g?void 0:g.path)||"")}})),r}}},{key:"setOriginalExtPaths",value:(n=r()(i().mark((function e(){var n,a,t,o,s,l,u,m,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>0&&void 0!==f[0]?f[0]:{},t=f.length>1&&void 0!==f[1]?f[1]:""){e.next=4;break}return e.abrupt("return",null);case 4:return o=(null===(n=a.extensions)||void 0===n?void 0:n.settings)||{},s=Object.entries(o),e.next=8,zn(t).catch((function(){return[]}));case 8:if((l=e.sent).length){e.next=11;break}return e.abrupt("return",null);case 11:return u=l.map(function(){var e=r()(i().mark((function e(n){var a,r,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c().join(t,n),e.next=3,zn(a);case 3:if(r=e.sent,a.length){e.next=6;break}return e.abrupt("return",{});case 6:if(!r.includes("manifest.json")){e.next=8;break}return e.abrupt("return",{originalId:n,path:c().join(t,n)});case 8:return o=ye()(r,1),s=o[0],e.abrupt("return",{originalId:n,path:c().join(t,n,s)});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=14,Promise.all(u);case 14:return m=e.sent,s.forEach((function(e){var n=ye()(e,1)[0],a=o[n].path;if(/chrome-extensions/.test(a)){var t=m.find((function(e){return e.originalId===n}));t&&(o[n].path=t.path||"")}})),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"patchProfileExtensions",value:function(e,n){if(Array.isArray(n)&&n)return he().patch("".concat(An()(this,$n),"/browser/").concat(e,"/chrome_extensions"),{body:{extensionsIds:n},headers:{Authorization:"Bearer ".concat(An()(this,Qn)),"user-agent":An()(this,Yn),"x-two-factor-token":An()(this,ea)},json:!0,maxAttempts:3,retryDelay:2e3,timeout:1e4}).then((function(){return console.log("extensions list updated")}))}}],[{key:"downloadCookies",value:function(){}}]),e}();function aa(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ta(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?aa(Object(a),!0).forEach((function(n){w()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aa(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ra(e,n){return oa.apply(this,arguments)}function oa(){return(oa=r()(i().mark((function e(n,a){var t,r,o,s,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>2&&void 0!==l[2]?l[2]:{},r=l.length>3&&void 0!==l[3]?l[3]:{},console.log("[LOCAL] Request to",a,n),o={url:"".concat(global.credentials.api).concat(n),method:a,headers:ta(ta({},r),{},{Authorization:"Bearer ".concat(global.credentials.access),"user-agent":global.credentials.userAgent,"x-two-factor-token":global.credentials.twoFa||""}),json:!0,maxAttempts:3,retryDelay:2e3,timeout:2e3,fullResponse:!1},"GET"!==a&&(o.body=t),e.prev=5,e.next=8,he()(o);case 8:return s=e.sent,console.log("[LOCAL] Request to",a,n,"success"),e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(5),console.error("[LOCAL] Request to",a,n,"failed"),console.error(e.t0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}function ia(e){global.profiles[e]||(global.profiles[e]={}),global.profiles[e]&&global.profiles[e].smallTimer&&clearTimeout(global.profiles[e].smallTimer),global.profiles[e].smallTimer=setTimeout((function(){clearInterval(global.profiles[e].bigTimer),delete global.profiles[e],ra("/browser/".concat(e,"/run"),"PATCH",{running:!1})}),2e4)}function sa(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!!global.profiles[e];n.hasOwnProperty("running")&&(a=n.running),ra("/browser/".concat(e,"/run"),"PATCH",{running:a})}Q().defaults.headers["Content-Type"]="application/json",global.profiles={};var la=a(747).promises,ua=la.access,ca=la.unlink,ma=function(){function e(){Ze()(this,e)}return $e()(e,null,[{key:"extractExtension",value:function(e,n){if(!e||!n)throw new Error("Missing parameter");return ua(e).then((function(){return(0,ee.Z)({fn:function(){return ke()(e,n,{plugins:[Te()()],filter:function(e){return!e.path.endsWith("/")}})}})}))}},{key:"deleteExtensionArchive",value:function(e){if(!e)throw new Error("Missing parameter");return ua(e).then((function(){return ca(e)}),(function(){return Promise.resolve()}))}}]),e}(),fa=function(e){return he().head(e,{maxAttempts:3,retryDelay:2e3,timeout:2e3,fullResponse:!0})},pa=function(e){var n=e.split("/").reverse(),a=ye()(n,1)[0],t=(void 0===a?"":a).split("."),r=ye()(t,1)[0],o=(void 0===r?"":r).split("_");return o.shift(),o.join("_")},va=function(e){return e.map((function(e){var n=e.split(c().sep).reverse(),a=ye()(n,1)[0],t=(void 0===a?"":a).split("."),r=ye()(t,1)[0];return ma.extractExtension(e,c().join(A,r)).then((function(){return ma.deleteExtensionArchive(e)}))}))},da="https://clients2.google.com/service/update2/crx?response=redirect&acceptformat=crx2,crx3&x=id%3D{ext_id}%26uc&prodversion=97.0.4692.71",ha=function(e){if(80===e[0]&&75===e[1]&&3===e[2]&&4===e[3])return e;if(67!==e[0]&&114!==e[1]&&50!==e[2]&&52!==e[3])throw new Error("Invalid header: Does not start with Cr24");var n=3===e[4],a=2===e[4];if(!a&&!n||e[5]||e[6]||e[7])throw new Error("Unexpected crx format version number.");if(a){var t=16+ga(e[8],e[9],e[10],e[11])+ga(e[12],e[13],e[14],e[15]);return e.slice(t,e.length)}var r=12+ga(e[8],e[9],e[10],e[11]);return e.slice(r,e.length)},ga=function(e,n,a,t){var r=0;return r+=e<<0,r+=n<<8,r+=a<<16,r+=t<<24>>>0};function Sa(e,n,a){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return a}var ba=a(747).promises,wa=ba.mkdir,ya=ba.readdir,xa=ba.rmdir,ka=new WeakMap,_a=new WeakMap,Ta=new WeakMap,Pa=new WeakMap,Ca=new WeakMap,Ba=new WeakMap,Ma=new WeakMap,Na=new WeakMap,Ea=new WeakMap,Aa=new WeakSet,Oa=function(){function e(){return Ze()(this,e),Aa.add(this),ka.set(this,{writable:!0,value:""}),_a.set(this,{writable:!0,value:""}),Ta.set(this,{writable:!0,value:""}),Pa.set(this,{writable:!0,value:""}),Ca.set(this,{writable:!0,value:[]}),Ba.set(this,{writable:!0,value:!1}),Ma.set(this,{writable:!0,value:!1}),Na.set(this,{writable:!0,value:!1}),Ea.set(this,{writable:!0,value:!1}),e.instance||(e.instance=this),e.instance}var n,a,t,o,s;return $e()(e,[{key:"isInited",get:function(){return An()(this,Ba)}},{key:"useLocalExtStorage",get:function(){return An()(this,Ma)}},{key:"deleteProfileExtFolders",get:function(){return An()(this,Na)}},{key:"deleteWidevineCdmFolder",get:function(){return An()(this,Ea)}},{key:"userAgent",set:function(e){e&&Rn()(this,ka,e)}},{key:"accessToken",set:function(e){e&&Rn()(this,Ta,e)}},{key:"twoFaKey",set:function(e){e&&Rn()(this,Pa,e)}},{key:"apiUrl",set:function(e){e&&Rn()(this,_a,e)}},{key:"init",value:function(){var e=this;return An()(this,Ba)?Promise.resolve():wa(A,{recursive:!0}).then((function(){return ya(A)})).then((function(n){Rn()(e,Ca,n),Rn()(e,Ba,!0)})).catch((function(e){return console.log("ExtensionsManager init error:",e)}))}},{key:"existedChromeExtensionsList",get:function(){return An()(this,Ca)}},{key:"checkChromeExtensions",value:(s=r()(i().mark((function e(){var n,a,t,r,o,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>0&&void 0!==s[0]?s[0]:[],Array.isArray(n)&&n.length){e.next=3;break}return e.abrupt("return",[]);case 3:if(a=Sa(this,Aa,Ra).call(this,n)){e.next=6;break}return e.abrupt("return",[]);case 6:return e.next=8,this.downloadChromeExtensions(a);case 8:return t=e.sent,r=t.filter(Boolean),o=va(r),e.next=13,Promise.all(o);case 13:return e.abrupt("return",this.getExtensionsStrToIncludeAsOrbitaParam(n));case 14:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"downloadChromeExtensions",value:(o=r()(i().mark((function e(){var n,a,t=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:[],Array.isArray(n)&&n.length){e.next=3;break}return e.abrupt("return",[]);case 3:return a=n.map(function(){var e=r()(i().mark((function e(n){var a,t,r,o,s,l,u,m,f,p,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.split("@"),t=ye()(a,1),r=t[0],o=da.replace("{ext_id}",r),e.next=4,fa(o);case 4:return s=e.sent,l=s.req.path,u=pa(l),e.next=9,new Promise((function(e){var n=[];he().get(o,{maxAttempts:3,retryDelay:1e3,timeout:8e3,fullResponse:!1}).on("data",(function(e){return n.push(e)})).on("end",(function(){return e(Buffer.concat(n))}))}));case 9:m=e.sent,e.prev=10,f=ha(m),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(10),console.log(e.t0),e.abrupt("return","");case 18:return p=c().join(A,r+"@"+u+".zip"),(v=In().createWriteStream(p)).write(f),v.close(),e.abrupt("return",new Promise((function(e){return v.on("close",(function(){return e(p)}))})));case 23:case"end":return e.stop()}}),e,null,[[10,14]])})));return function(n){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(a));case 5:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"getExtensionsPolicies",value:(t=r()(i().mark((function e(){var n,a,t,r,o,s,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he().get("".concat(An()(this,_a),"/gologin-settings/chrome_ext_policies"),{headers:{Authorization:"Bearer ".concat(An()(this,Ta)),"user-agent":An()(this,ka),"x-two-factor-token":An()(this,Pa)||""},json:!0,maxAttempts:2,retryDelay:1e3,timeout:1e4,fullResponse:!1});case 2:n=e.sent,a=(null==n?void 0:n.chromeExtPolicies)||{},t=a.useLocalExtStorage,r=void 0!==t&&t,o=a.deleteProfileExtFolders,s=void 0!==o&&o,l=a.deleteWidevineCdmFolder,u=void 0!==l&&l,Rn()(this,Ma,r),Rn()(this,Na,s),Rn()(this,Ea,u);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getExtensionsStrToIncludeAsOrbitaParam",value:(a=r()(i().mark((function e(){var n,a,t,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:[],Array.isArray(n)&&n.length){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,ya(A);case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",[]);case 8:return t=a.map((function(e){var n=e.split("@");return{originalId:ye()(n,1)[0],folderName:e}})),e.abrupt("return",n.map((function(e){var n=t.find((function(n){return n.originalId===e}));return n?c().join(A,n.folderName):""})).filter(Boolean));case 10:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"updateExtensions",value:(n=r()(i().mark((function e(){var n,a,t,o,s,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(A).catch((function(){return[]}));case 2:if((n=e.sent).length){e.next=5;break}return e.abrupt("return");case 5:return a=[],t=n.map(function(){var e=r()(i().mark((function e(n){var t,r,o,s,l,u,m,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.includes("@")&&!n.includes(".zip")){e.next=2;break}return e.abrupt("return","");case 2:return t=n.split("@"),r=ye()(t,2),o=r[0],s=r[1],l=da.replace("{ext_id}",o),e.next=6,fa(l);case 6:if(u=e.sent,m=u.req.path,f=pa(m),s!==f){e.next=11;break}return e.abrupt("return","");case 11:return a.push(c().join(A,n)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=9,Promise.all(t);case 9:return o=e.sent.filter(Boolean),e.next=12,this.downloadChromeExtensions(o);case 12:return s=e.sent.filter(Boolean),l=va(s),e.next=16,Promise.all(l);case 16:return u=a.map((function(e){return xa(e,{recursive:!0,maxRetries:3}).catch((function(){}))})),e.abrupt("return",Promise.all(u));case 18:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]),e}();function Ra(e){var n=An()(this,Ca).map((function(e){var n=e.split("@");return ye()(n,1)[0]}));return e.reduce((function(e,a){var t=a.split("@"),r=ye()(t,1)[0];return n.includes(r)||e.push(a),e}),[])}var La=(0,a(669).promisify)(y.exec),Ia=function(){var e=r()(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("win32"!==process.platform){e.next=2;break}return e.abrupt("return","win");case 2:if("darwin"!==process.platform){e.next=7;break}return e.next=5,Da();case 5:return n=e.sent,e.abrupt("return",n?"macM1":"mac");case 7:return e.abrupt("return","lin");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Da=function(){var e=r()(i().mark((function e(){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La("sysctl machdep.cpu").catch((function(e){return console.log("error in M1 detection ",e),{stdout:""}}));case 2:return n=e.sent,a=n.stdout,e.abrupt("return",a.includes("Apple M1"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ja=a(747).promises.access,Fa={},Ga={};global.brave_processes=Fa;var Ua=F(),Ha=process.platform,Ka=Ua.PROFILES_DIR+"{profileId}"+Ua.ROUTE_SLASH+"Default"+Ua.ROUTE_SLASH,za="",Wa="",qa="",Va=!1,Ja="",Za="https://api.gologin.com",Xa=new na({API_BASE_URL:Za}),$a=new Oa;function Ya(){return Qa.apply(this,arguments)}function Qa(){return(Qa=r()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ja){e.next=4;break}return e.next=3,Ia();case 3:Ja=e.sent;case 4:return e.abrupt("return",Ja);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e,n,a){var t=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Va=t,console.log("Checking folders structure");try{f().existsSync(Ua.PROFILES_DIR)||f().mkdirSync(Ua.PROFILES_DIR,{recursive:!0}),f().existsSync(Ua.START_DIR_PATH)||f().mkdirSync(Ua.START_DIR_PATH,{recursive:!0}),f().existsSync(Ua.STARTED_DIR_PATH)||f().mkdirSync(Ua.STARTED_DIR_PATH,{recursive:!0}),f().existsSync(Ua.PROFILES_DIR+e.profileId)&&f().removeSync(Ua.PROFILES_DIR+e.profileId),f().existsSync(Ua.PROFILES_DIR+e.profileId)||f().mkdirSync(Ua.PROFILES_DIR+e.profileId,{recursive:!0})}catch(e){console.log("Error in working folder init:",e.message||"no error"),console.log(e),h.captureException(e,n)}return ft(e,n,a)}function nt(e){Ga[e]=!0,e in Fa&&(delete Ga[e],Me()(Fa[e].pid,"SIGTERM"))}$a.apiUrl=Za,$a.init();var at=function(e,n){var a=["".concat(Ua.ROUTE_SLASH,"Default").concat(Ua.ROUTE_SLASH,"Cache"),"".concat(Ua.ROUTE_SLASH,"Default").concat(Ua.ROUTE_SLASH,"fonts_config"),"".concat(Ua.ROUTE_SLASH,"Default").concat(Ua.ROUTE_SLASH,"Service Worker").concat(Ua.ROUTE_SLASH,"CacheStorage"),"".concat(Ua.ROUTE_SLASH,"Default").concat(Ua.ROUTE_SLASH,"Code Cache"),"".concat(Ua.ROUTE_SLASH,"Default").concat(Ua.ROUTE_SLASH,"GPUCache"),"".concat(Ua.ROUTE_SLASH,"GrShaderCache"),"".concat(Ua.ROUTE_SLASH,"ShaderCache"),"".concat(Ua.ROUTE_SLASH,"biahpgbdmdkfgndcmfiipgcebobojjkp"),"".concat(Ua.ROUTE_SLASH,"afalakplffnnnlkncjhbmahjfjhmlkal"),"".concat(Ua.ROUTE_SLASH,"cffkpbalmllkdoenhmdmpbkajipdjfam"),"".concat(Ua.ROUTE_SLASH,"Dictionaries"),"".concat(Ua.ROUTE_SLASH,"enkheaiicpeffbfgjiklngbpkilnbkoi"),"".concat(Ua.ROUTE_SLASH,"oofiananboodjbbmdelgdommihjbkfag"),"".concat(Ua.ROUTE_SLASH,"SafetyTips"),"".concat(Ua.ROUTE_SLASH,"fonts")];$a.deleteProfileExtFolders&&a.push("".concat(Ua.ROUTE_SLASH,"Default").concat(Ua.ROUTE_SLASH,"Extensions")),$a.deleteWidevineCdmFolder&&a.push("".concat(Ua.ROUTE_SLASH,"WidevineCdm")),a.forEach((function(n){f().existsSync(Ua.PROFILES_DIR+e+n)&&(console.log("removing",Ua.PROFILES_DIR+e+n),f().removeSync(Ua.PROFILES_DIR+e+n))})),"android"===n&&f().removeSync(Ua.PROFILES_DIR+e+"".concat(Ua.ROUTE_SLASH,"Default").concat(Ua.ROUTE_SLASH,"Sessions"))},tt=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=["".concat(Ua.ROUTE_SLASH,"SingletonLock"),"".concat(Ua.ROUTE_SLASH,"RunningChromeVersion")];if(n){var t=!0;return a.forEach((function(n){return t=!f().existsSync(Ua.PROFILES_DIR+e+n)})),t}a.map((function(n){f().existsSync(Ua.PROFILES_DIR+e+n)&&(console.log("removing",Ua.PROFILES_DIR+e+n),f().removeSync(Ua.PROFILES_DIR+e+n))}))},rt=function(e){["".concat(Ua.ROUTE_SLASH,"Default").concat(Ua.ROUTE_SLASH,"Local Storage"),"".concat(Ua.ROUTE_SLASH,"Default").concat(Ua.ROUTE_SLASH,"IndexedDB")].map((function(n){f().existsSync(Ua.PROFILES_DIR+e+n)&&(console.log("removing",Ua.PROFILES_DIR+e+n),f().removeSync(Ua.PROFILES_DIR+e+n))}))},ot=function(){var e=r()(i().mark((function e(n,a){var t,r,o,s,l,u,c,m,f,p,v,d,h,g,S=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.length>2&&void 0!==S[2]&&S[2],console.log("***********************************"),console.log("Getting signed URL for S3 for ".concat(t?"Hong Kong":"Frankfurt")),r="".concat(Za,"/browser/").concat(a,"/storage-signature"),t&&(r+="?hk=true"),e.next=7,he().get(r,{headers:{Authorization:"Bearer ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},maxAttempts:3,retryDelay:2e3,timeout:1e4,fullResponse:!1});case 7:return o=e.sent,s=o.split("?"),l=ye()(s,1),u=l[0],e.prev=9,console.log("Uploading profile by signed URL to S3"),console.log("BUFFER SIZE",Buffer.byteLength(n)),e.next=14,he().put(o,{headers:{"Content-Type":"application/zip","Content-Length":Buffer.byteLength(n)},body:n,maxBodyLength:1/0,maxContentLength:1/0,maxAttempts:3,retryDelay:2e3,timeout:3e4,fullResponse:!1});case 14:return e.next=16,he().head(u,{maxAttempts:3,retryDelay:2e3,timeout:1e4,fullResponse:!0});case 16:if(c=e.sent,(m=+c.headers["content-length"])===Buffer.byteLength(n)){e.next=21;break}throw console.log("Uploaded file is incorrect. Retry with China File size:",m),new Error("Uploaded file is incorrect. Retry with China File size: "+m);case 21:console.log("Profile has been uploaded to S3 successfully"),e.next=29;break;case 24:if(e.prev=24,e.t0=e.catch(9),!t){e.next=28;break}throw e.t0;case 28:return e.abrupt("return",ot(n,a,!0));case 29:if(t){e.next=31;break}return e.abrupt("return");case 31:return f=o.split("?"),p=ye()(f,1),v=p[0],d=v.split("/").reverse(),h=ye()(d,1),g=h[0],e.prev=33,e.next=36,he().put("".concat(Za,"/browser/").concat(a,"/copy-profile"),{headers:{Authorization:"BEARER ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},body:{uid:g},json:!0,maxAttempts:2,retryDelay:2e3,timeout:1e4});case 36:e.next=40;break;case 38:e.prev=38,e.t1=e.catch(33);case 40:case"end":return e.stop()}}),e,null,[[9,24],[33,38]])})));return function(n,a){return e.apply(this,arguments)}}();function it(e){return st.apply(this,arguments)}function st(){return(st=r()(i().mark((function e(n){var a,t,r,o,s,l,u,c,m,p,v,d,g,S,b,w,y,x,k,_;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.profileId,t=n.currentMs,r=n.localStorageEnabled,o=n.debugMode,s=void 0!==o&&o,l=n.owner,u=n.sentryParams,c=5;case 2:if(!c--){e.next=10;break}return e.next=5,new Promise((function(e){return setTimeout((function(){return e()}),300)}));case 5:if(!tt(a,!0)){e.next=8;break}return e.abrupt("break",10);case 8:e.next=2;break;case 10:return e.next=12,new Promise((function(e){return setTimeout((function(){return e()}),300)}));case 12:try{!s&&f().existsSync(Ua.PROFILES_DIR+a+Ua.ROUTE_SLASH+"chrome_debug.log")&&f().removeSync(Ua.PROFILES_DIR+a+Ua.ROUTE_SLASH+"chrome_debug.log"),at(a),r||rt(a),f().existsSync("".concat(Ua.PROFILES_DIR).concat(a,"_").concat(t,".zip"))&&f().removeSync("".concat(Ua.PROFILES_DIR).concat(a,"_").concat(t,".zip")),f().existsSync("".concat(Ua.PROFILES_DIR).concat(a,"_").concat(t,"_sync.zip"))&&f().removeSync("".concat(Ua.PROFILES_DIR).concat(a,"_").concat(t,"_sync.zip"))}catch(e){h.captureException(e,u)}return m=Ua.PROFILES_DIR+a+Ua.COOKIES_FILE,console.log("cookiesFilePath:",m),e.prev=15,e.next=18,kn(m);case 18:return p=e.sent,v=p.cookies,console.log("upload cookies.length:",v.length),v.length||console.log("Got empty cookies. profile ".concat(a)),e.next=24,Xa.uploadCookies(a,v);case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(15),console.error(e.t0),h.captureException(e.t0,u);case 30:return e.prev=30,d=Ua.PROFILES_DIR+a+Ua.PASSWORDS_FILE,e.next=34,Mn(d);case 34:return g=e.sent.passwords.map((function(e){return{domain:e.origin_url,username:e.username_value,password:e.password_value}})).filter((function(e){return e.username&&e.password&&e.domain})),e.next=37,Xa.uploadPasswords(a,l,g);case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(30),console.error(e.t1),h.captureException(e.t1,u);case 43:return S=Ka.replace("{profileId}",a)+"Preferences",e.prev=44,e.next=47,Xa.getProfileChromeExtensions(S);case 47:return b=e.sent,console.log("extensionsIds:",b),e.next=51,Xa.patchProfileExtensions(a,b);case 51:e.next=57;break;case 53:e.prev=53,e.t2=e.catch(44),console.error(e.t2),h.captureException(e.t2,u);case 57:return console.log("Creating zip file"),e.prev=58,e.next=61,new Promise((function(e,n){return Oe()(Ua.PROFILES_DIR+a,{filter:function(e){return!/RunningChromeVersion/.test(e)}},(function(a,t){a&&n(a),e(t)}))}));case 61:return w=e.sent,console.log("Sending analytics before upload to s3"),e.next=65,Ya();case 65:return y=e.sent,x=Date.now(),k=(0,Re.v4)(),e.next=70,he()("".concat(Za,"/analytics"),{method:"POST",headers:{Authorization:"Bearer ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},body:{type:"profile-s3-upload",status:"error",profile:a,os:y,deduplicationKey:k},json:!0});case 70:return console.log("Uploading zip file"),e.next=73,ot(w,a);case 73:console.log("Sending analytics after upload to s3"),_=Date.now()-x,he()("".concat(Za,"/analytics"),{method:"POST",headers:{Authorization:"Bearer ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},body:{type:"profile-s3-upload",status:"success",profile:a,time:_,os:y,deduplicationKey:k},json:!0}),e.next=83;break;case 78:e.prev=78,e.t3=e.catch(58),console.error("Error sending profile patch request"),console.error(e.t3),h.captureException(e.t3,u);case 83:e.prev=83;try{f().existsSync(Ua.PROFILES_DIR+a)&&f().removeSync(Ua.PROFILES_DIR+a),f().existsSync("".concat(Ua.PROFILES_DIR).concat(a,"_").concat(t,".zip"))&&f().removeSync("".concat(Ua.PROFILES_DIR).concat(a,"_").concat(t,".zip")),f().existsSync("".concat(Ua.PROFILES_DIR).concat(a,"_").concat(t,"_sync.zip"))&&f().removeSync("".concat(Ua.PROFILES_DIR).concat(a,"_").concat(t,"_sync.zip"))}catch(e){h.captureException(e,u)}return e.finish(83);case 86:case"end":return e.stop()}}),e,null,[[15,26],[30,39],[44,53],[58,78,83,86]])})))).apply(this,arguments)}var lt=function(){var e=r()(i().mark((function e(n,a){var t,r,o,s,l,u,c,m,p=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>2&&void 0!==p[2]?p[2]:[],r=n.profileId,o=Ka.replace("{profileId}",r)+"Preferences",f().existsSync(o)){e.next=5;break}throw new Error("error");case 5:if(s=f().readFileSync(o).toString(),!n.webRtc.fillBasedOnIp&&n.webRtc.publicIp.length?(n.gologin.webRtc.publicIP=n.webRtc.publicIp,n.gologin.webRtc.public_ip=n.webRtc.publicIp):(n.gologin.webRtc.publicIP=a,n.gologin.webRtc.public_ip=a),(l=JSON.parse(s)).gologin=n.gologin,l.gologin.unpinable_extension_names=["passwords-ext"],l.bookmarks=n.bookmarks,l.history=n.history,l.credentials_enable_service=n.credentials_enable_service,!$a.useLocalExtStorage||!t.length){e.next=17;break}u=Xa.setExtPaths(l,t),e.next=22;break;case 17:if($a.useLocalExtStorage){e.next=22;break}return c=Ka.replace("{profileId}",r)+"Extensions",e.next=21,Xa.setOriginalExtPaths(l,c);case 21:u=e.sent;case 22:u&&((m=l.extensions||{}).settings=u,l.extensions=m),f().removeSync(o),f().writeFileSync(o,JSON.stringify(l)),console.log("Preferences has been successfully updated");case 26:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}();function ut(e,n){return ct.apply(this,arguments)}function ct(){return(ct=r()(i().mark((function e(n,a){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f().createWriteStream("".concat(Ua.PROFILES_DIR).concat(n,"_").concat(a,".zip")),console.log(__dirname),f().createReadStream("".concat(__dirname,"/zero_profile.zip")).pipe(t),e.next=5,new Promise((function(e){return t.on("close",(function(){return e()}))}));case 5:return console.log("writing completed"),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mt=function(){var e=r()(i().mark((function e(){var n,a,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n=[],Fa)n.push(a),Fa[a]&&Me()(Fa[a].pid,"SIGTERM"),console.log("process",a,"has been stopped");return t=n.map((function(e){he().patch("".concat(Za,"/browser/").concat(e,"/run"),{body:JSON.stringify({running:!1}),headers:{Authorization:"BEARER ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},json:!0,maxAttempts:3,retryDelay:2e3,timeout:1e4})})),e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=r()(i().mark((function e(n,a,t){var o,s,l,u,c,m,p,v,d,g,S,b,w,y,x,k,_,T,P,C,B,M,N,E,A,O,R,L,I,D,j,F,G,U,H,K,z,W,q,V,J,Z,X,Y,Q,ee,ne,ae,te,re,oe,ie,se,le,ue,ce,me,fe,pe,ve,de,ge,Se,be,we,xe,_e,Pe,Ce,Be,Me,Ne,Ae,Oe,Le,Ie,De,je,Fe,Ge,Ue,He,Ke;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.profileId,l=n.s3Path,u=n.owner,c=n.fonts,m=n.os,p=(null===(o=n.gologin)||void 0===o?void 0:o.name)||"",v=(new Date).getMilliseconds(),d=Date.now(),g="".concat(Ua.PROFILES_DIR).concat(s,"_").concat(v,".zip"),S=f().createWriteStream(g),!l||l.includes("zero")){e.next=24;break}return e.prev=7,console.log("Request profile from AWS S3"),e.next=11,he()("https://gprofiles.gologin.com/".concat(l),{retryDelay:2e3,maxAttempts:3}).pipe(S);case 11:return e.next=13,new Promise((function(e){return S.on("close",(function(){return e()}))}));case 13:e.next=22;break;case 15:return e.prev=15,e.t0=e.catch(7),b="".concat(e.t0.message,"(downloading from AWS)"),pt(t,"error",s,"Profile loading error. Check internet connection.",d,b),console.error("ERROR request profile"),console.error(e.t0),e.abrupt("return");case 22:e.next=26;break;case 24:return e.next=26,ut(s,v);case 26:console.log("Profile zip-archive writing completed");try{f().existsSync(Ua.PROFILES_DIR+s)&&f().removeSync(Ua.PROFILES_DIR+s)}catch(e){console.log("Error in old profile folder removing:",e.message||"no error"),console.log(e),h.captureException(e,a)}if(e.prev=28,w=!0,"win32"===Ha&&(y=new(Ee())(g),x=y.getEntries(),x.find((function(e){return e.entryName.includes("RunningChromeVersion")}))&&(w=!1,x.forEach((function(e){e.entryName.includes("RunningChromeVersion")||y.extractEntryTo(e,"".concat(Ua.PROFILES_DIR+s),!0,!0)})))),!w){e.next=34;break}return e.next=34,ke()(g,"".concat(Ua.PROFILES_DIR+s),{plugins:[Te()()],filter:function(e){return!e.path.endsWith("/")}});case 34:e.next=45;break;case 36:if(e.prev=36,e.t1=e.catch(28),!e.t1){e.next=45;break}return k="".concat(e.t1.message,"(extracting zip)"),pt(t,"error",s,"Defective profile. Restore and try again.",d,k),console.error("error extracting zip"),console.error(e.t1),console.log(g,"\n",Ua.PROFILES_DIR),e.abrupt("return");case 45:console.log("Extracting profile zip-archive completed");try{console.log("Removing profile zip-archive"),f().existsSync(g)&&f().removeSync(g),tt(s),at(s,m)}catch(e){console.log("Error in removing zip and folders:",e.message||"no error"),console.log(e),h.captureException(e,a)}return _=Ua.PROFILES_DIR+s+Ua.COOKIES_FILE,e.prev=48,e.next=51,he().get("".concat(Za,"/browser/").concat(s,"/cookies?cleanCookies=true"),{headers:{Authorization:"Bearer ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},json:!0,maxAttempts:3,retryDelay:2e3,timeout:1e4,fullResponse:!1});case 51:if(T=e.sent,P=T.clearCookies,C=n.checkCookies,!P){e.next=62;break}return e.next=57,ze=_,void(f().existsSync(ze)&&(console.log("removing",ze),f().removeSync(ze)));case 57:return e.next=59,he().post("".concat(Za,"/browser/").concat(s,"/cookies"),{headers:{Authorization:"Bearer ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},body:[],json:!0,maxAttempts:3,retryDelay:2e3,timeout:1e4});case 59:console.log("cookies file has been removed"),e.next=83;break;case 62:if(!C){e.next=83;break}return e.next=65,kn(_);case 65:return B=e.sent,M=B.cookies,e.next=69,pn(s);case 69:if(N=e.sent,console.log("localServerAvailable:",N),console.log("cookies.length:",M.length),!(M.length<2)&&N){e.next=83;break}return e.next=75,he().get("".concat(Za,"/browser/").concat(s,"/cookies"),{headers:{Authorization:"Bearer ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},json:!0,maxAttempts:3,retryDelay:2e3,timeout:1e4,fullResponse:!1});case 75:if(e.t2=e.sent,e.t2){e.next=78;break}e.t2=[];case 78:if(E=e.t2,console.log("serverCookies.length:",E.length),!E.length){e.next=83;break}return e.next=83,_n(_,E);case 83:e.next=90;break;case 85:e.prev=85,e.t3=e.catch(48),h.captureException(e.t3,a),console.error("error in cookies downloading"),console.error(e.t3);case 90:if(A=Ua.PROFILES_DIR+s,O="darwin"===Ha?"en-US":n.browserLang,R=['--user-data-dir="'.concat(A,'"'),"--lang="+O,"--disable-encryption"],L=n.webglParams,n.gologin.webgl.metadata.mode?L&&"webgl"===L.glCanvas&&R.push("--disable-webgl2"):(R.push("--disable-webgl"),R.push("--disable-webgl2")),L&&Object(L).hasOwnProperty("antialiasing")&&!L.antialiasing&&R.push("--webgl-antialiasing-mode=none"),n.session&&R.push("--restore-last-session"),I=qa&&qa.includes("Windows NT 6.1"),D="--font-masking-mode=1",e.prev=99,!c.enableMasking||I){e.next=111;break}if((j=c.families||[]).length){e.next=104;break}throw new Error("No fonts list provided");case 104:if(F="android"!==m&&("win32"===Ha&&"win"!==m||"darwin"===Ha&&"mac"!==m||"linux"===Ha&&"lin"!==m),!["linux","win32"].includes(Ha)){e.next=109;break}return e.next=108,Xa.composeFonts(j,A,F);case 108:D="--font-masking-mode=2";case 109:F&&(D="--font-masking-mode=3"),["linux","win32"].includes(Ha)&&R.push(D);case 111:e.next=122;break;case 113:return e.prev=113,e.t4=e.catch(99),h.captureException(e.t4,a),console.error("error in fonts downloading"),console.error(e.t4),G="Try again.",e.t4.message&&e.t4.message.includes("Please select at least 1")&&(G=e.t4.message),pt(t,"error",s,"Error in fonts downloading. ".concat(G),d),e.abrupt("return");case 122:return U=n.autoProxyServer,H=n.autoProxyUsername,K=n.autoProxyPassword,delete n.autoProxyServer,delete n.autoProxyUsername,delete n.autoProxyPassword,z=n.proxy.mode.toLowerCase(),n.proxyEnabled&&(W=["gologin","tor"].includes(z)?U:n.proxy.host,q="","http"===n.proxy.mode.toLowerCase()&&(q="http://"),"socks4"===n.proxy.mode.toLowerCase()&&(q="socks4://"),"socks5"===n.proxy.mode.toLowerCase()&&(q="socks5://"),W.includes("http://")&&(V=W.split("http://"),J=ye()(V,2),J[0],W=J[1],q="http://"),W.includes("https://")&&(Z=W.split("https://"),X=ye()(Z,2),X[0],W=X[1],q="https://"),W.includes("socks5://")&&(Y=W.split("socks5://"),Q=ye()(Y,2),Q[0],W=Q[1],q="socks5://"),W.includes("socks4://")&&(ee=W.split("socks4://"),ne=ye()(ee,2),ne[0],W=ne[1],q="socks4://"),["gologin","tor"].includes(z)?(ae=U.split("://"),te=ae[1].split(":"),re=te[1],R.push("--proxy-server=".concat(te[0],":").concat(re)),q.includes("socks4")||'--host-resolver-rules="MAP * 0.0.0.0 , EXCLUDE '.concat(te[0],'"')):(R.push("--proxy-server=".concat(q).concat(W,":").concat(+n.proxy.port)),q.includes("socks4")||'--host-resolver-rules="MAP * 0.0.0.0 , EXCLUDE '.concat(W,'"'))),oe="",e.prev=129,e.next=132,he().get("".concat(Za,"/profiles-passwords/temporary-token?profile=").concat(s),{headers:{Authorization:"Bearer ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},json:!0,maxAttempts:3,retryDelay:2e3,timeout:1e4,fullResponse:!1});case 132:ie=e.sent,oe=(null==ie?void 0:ie.token)||"",e.next=138;break;case 136:e.prev=136,e.t5=e.catch(129);case 138:return se={name:p,profileId:s,password:u,token:oe},e.next=141,Ve(se);case 141:return le=e.sent.map((function(e){return(null==e?void 0:e.extPath)||""})).join(","),ue=n.extensionsEnabled,ce=n.chromeExtensions||[],e.next=146,$a.getExtensionsPolicies();case 146:if(me=[],console.log("ExtensionsManagerInst.useLocalExtStorage:",$a.useLocalExtStorage),!$a.useLocalExtStorage){e.next=152;break}return e.next=151,$a.checkChromeExtensions(ce).catch((function(e){return console.log("checkChromeExtensions error: ",e),[]}));case 151:me=e.sent;case 152:if(n.chromeExtensions=null,fe="--load-extension=",pe=le,ue||(fe="--disable-extensions-except="),R.push(fe+'"'+pe+'"'),n.debugMode&&("win32"===Ha?R.push("--enable-logging=stderr"):R.push("--enable-logging"),R.push("--v=1"),R.push("--vmodule=metrics=2"),R.push("--no-sandbox")),console.log("args:",R),ve=null,!Ga[s]){e.next=164;break}return delete Ga[s],pt(t,"ready",s),e.abrupt("return");case 164:if(!n.proxyEnabled){e.next=211;break}if(console.log("Sending request for timezone"),e.prev=166,!["gologin","tor"].includes(z)){e.next=175;break}return ge=U.split("//"),Se=ge[1].split(":"),be=ye()(Se,2),we=be[0],xe=be[1],e.next=172,tn.getTimezoneWithHttp({type:ge[0],host:we,port:xe,username:H,password:K});case 172:de=e.sent,n.gologin.proxy.username=H,n.gologin.proxy.password=K;case 175:if(!z.includes("socks")&&!z.includes("possh")){e.next=181;break}return console.log("Sending socks request"),_e="".concat(n.proxy.mode.toLowerCase(),"://"),e.next=180,tn.getTimezoneWithSocks({type:_e,host:n.proxy.host,port:n.proxy.port,username:n.proxy.username,password:n.proxy.password});case 180:de=e.sent;case 181:e.next=188;break;case 183:return e.prev=183,e.t6=e.catch(166),console.error(e.t6),pt(t,"error",s,"Proxy error. ".concat(e.t6.message)),e.abrupt("return",null);case 188:if(!["http","geolocation"].includes(z)){e.next=209;break}console.log("Sending http request"),Pe=2;case 191:if(!Pe--){e.next=209;break}return e.prev=192,Ce=Pe?"https://":"http://",e.next=196,tn.getTimezoneWithHttp({type:Ce,host:n.proxy.host.replace(/(http:\/\/|https:\/\/)/g,""),port:n.proxy.port,username:n.proxy.username,password:n.proxy.password});case 196:return de=e.sent,e.abrupt("break",209);case 200:if(e.prev=200,e.t7=e.catch(192),console.error(e.t7),!Pe){e.next=205;break}return e.abrupt("continue",191);case 205:return pt(t,"error",s,"Proxy error. ".concat(e.t7.message)),e.abrupt("return",null);case 207:e.next=191;break;case 209:e.next=221;break;case 211:return e.prev=211,e.next=214,he().get("https://time.gologin.com/timezone",{json:!0,timeout:15e3,retryDelay:5e3,tryCount:2});case 214:de=e.sent,e.next=221;break;case 217:return e.prev=217,e.t8=e.catch(211),pt(t,"error",s,"Timezone request error.",d),e.abrupt("return",null);case 221:if(Be=de.body||de,Me=Be.timezone,Ne=Be.ll,Ae=void 0===Ne?[0,0]:Ne,Oe=Be.accuracy,Le=void 0===Oe?100:Oe,(Ie=Be.ip)&&Me){e.next=226;break}return pt(t,"error",s,"Timezone request error.",d),e.abrupt("return",null);case 226:return De=ye()(Ae,2),je=De[0],Fe=De[1],console.log("Getting timezone:",Me),Ge=n.fillProxyByIp?Me:n.timezoneValue,Ue=n.gologin.geoLocation,He={latitude:je,longitude:Fe,accuracy:Le},n.gologin.geoLocation=ht(Ue,He),n.gologin.timezone={id:Ge},e.prev=233,e.next=236,lt(n,Ie,me);case 236:e.next=243;break;case 238:return e.prev=238,e.t9=e.catch(233),Ke="".concat(e.t9.message,"(Spawning browser process)"),pt(t,"error",s,"Defective profile. Restore and try again.",d,Ke),e.abrupt("return",null);case 243:return console.log("Spawning browser process"),e.prev=244,e.next=247,gt(R);case 247:ve=e.sent,e.next=254;break;case 250:return e.prev=250,e.t10=e.catch(244),pt(t,"error",s,"Proxy error. ".concat(e.t10.message)),e.abrupt("return",null);case 254:Fa[s]=ve,sa(s,{running:!0}),pt(t,"running",s,"",d),ve&&ve.on("close",r()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sa(s,{running:!1}),console.log("On Close");case 2:case"end":return e.stop()}}),e)})))),ve&&ve.on("exit",function(){var e=r()(i().mark((function e(r,o){var l,c,m,f,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="child process exited with code ".concat(r," and signal ").concat(o),console.log(c),[0,null].includes(r)||(a.tags.profileId=s,h.captureException(c+". Profile ".concat(s),a)),e.next=5,(0,$.getCurrentVersion)().catch((function(e){return console.log("Error in reading browser version",e),{stdout:""}}));case 5:return m=e.sent,e.next=8,Ya();case 8:return f=e.sent,p=(0,Re.v4)(),he()("".concat(Za,"/analytics"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},body:JSON.stringify({type:"browser-close",status:0===r||null===r?"success":"error",profile:s,deduplicationKey:p,time:Date.now()-d,message:""+r,os:f,browserVersion:null==m||null===(l=m.stdout)||void 0===l?void 0:l.trim()})}),he()("".concat(Za,"/profiles-passwords/temporary-token"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(oe),"user-agent":qa},fullResponse:!1}),pt(t,"syncing",s),e.next=15,it({profileId:s,currentMs:v,debugMode:n.debugMode,localStorageEnabled:n.localStorageEnabled,owner:u,sentryParams:a});case 15:pt(t,"ready",s),delete Fa[s];case 17:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),f().writeFileSync(Ua.STARTED_DIR_PATH+Ua.ROUTE_SLASH+s,n.proxy.port.toString());case 260:case"end":return e.stop()}var ze}),e,null,[[7,15],[28,36],[48,85],[99,113],[129,136],[166,183],[192,200],[211,217],[233,238],[244,250]])})));return function(n,a,t){return e.apply(this,arguments)}}();function pt(e,n,a){return vt.apply(this,arguments)}function vt(){return(vt=r()(i().mark((function e(n,a,t){var r,o,s,l,u,c,m,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>3&&void 0!==f[3]?f[3]:"",o=f.length>4&&void 0!==f[4]?f[4]:0,s=f.length>5&&void 0!==f[5]?f[5]:"",!o||!["running","error"].includes(a)){e.next=11;break}return l=Date.now()-o,u="error"===a?"error":"success",e.next=8,Ya();case 8:c=e.sent,m=s.replace(",",""),he()("".concat(Za,"/analytics"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(za),"user-agent":qa,"x-two-factor-token":Wa||""},body:JSON.stringify({type:"profile-loading",status:u,profile:t,time:l,os:c,message:m||r})});case 11:if(console.log("IS_WEBSOCKET:",Va),!Va){e.next=15;break}return n(a,r,t),e.abrupt("return");case 15:n.reply("update-profile-status",{status:a,message:r,profileId:t});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dt,ht=function(e,n){return e.fillBasedOnIp?{mode:e.mode,latitude:Number(n.latitude),longitude:Number(n.longitude),accuracy:Number(n.accuracy)}:{mode:e.mode,latitude:e.latitude,longitude:e.longitude,accuracy:e.accuracy}},gt=function(){var e=r()(i().mark((function e(n){var a,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ua.BROWSER_PATH,"darwin"!==Ha){e.next=10;break}return e.prev=2,e.next=5,ja(a);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a=Ua.BROWSER_OLD_PATH?Ua.BROWSER_OLD_PATH:a;case 10:return t={shell:!0,cwd:Ua.BROWSER_WORKING_DIR,detached:!0,stdio:"ignore"},(r=(0,y.spawn)('"'.concat(a,'"'),n,t)).unref(),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n){return e.apply(this,arguments)}}(),St=function(e,n,a){dt&&dt.send(JSON.stringify({status:e,message:n,profileId:a}))};const bt=require("express");var wt=a.n(bt);const yt=require("body-parser");var xt=a.n(yt);const kt=require("cors");var _t=(0,bt.Router)();global.profiles={},_t.get("/service/check-server",(function(e,n){return n.status(200),n.json({status:!0})})),_t.post("/service/credentials",(function(e,n){var a=e.body,t=a.access,r=void 0===t?"":t,o=a.api,i=void 0===o?"https://api.gologin.com":o,s=a.twoFa,l=void 0===s?"":s;return global.credentials={access:r,api:i,twoFa:l,userAgent:e.headers["user-agent"]},n.status(200),n.json({credentials:global.credentials})})),_t.get("/cookies/:id",function(){var e=r()(i().mark((function e(n,a){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==(null===(t=n.query)||void 0===t?void 0:t.isAvailable)){e.next=2;break}return e.abrupt("return",a.json({status:!0}));case 2:return e.next=4,ra("/browser/".concat(n.params.id,"/cookies"),"GET");case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=[];case 7:return r=e.t0,ia(n.params.id),global.profiles[n.params.id].bigTimer=setInterval((function(){return sa(n.params.id)}),18e4),e.abrupt("return",a.json(r));case 11:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),_t.post("/cookies/:id",function(){var e=r()(i().mark((function e(n,a){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra("/browser/".concat(n.params.id,"/cookies"),"POST",n.body);case 2:return t=e.sent,e.abrupt("return",a.json(t));case 4:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),_t.post("/cookies/:id/cookies_stats",function(){var e=r()(i().mark((function e(n,a){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra("/browser/".concat(n.params.id,"/cookies/cookies_stats"),"POST",n.body);case 2:return t=e.sent,e.abrupt("return",a.json(t));case 4:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),_t.get("/session/ready",(function(e,n){return n.end()})),_t.get("/timer/update/:id",(function(e,n){return ia(e.params.id),n.end()})),_t.get("/close/:id",(function(e,n){var a=e.params.id;"darwin"===process.platform&&(console.log("Closing browser..."),global.brave_processes&&global.brave_processes[a]&&Me()(brave_processes[a].pid,"SIGTERM")),n.end()}));const Tt=_t;var Pt=wt()();function Ct(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Pt.listen(e,(function(){return console.log("Local server started on port ".concat(e)),n&&n()}))}Pt.use(kt({origin:/.*/,optionsSuccessStatus:200})),Pt.use(xt().json({limit:"10mb"})),Pt.use(Tt);var Bt=a(747).promises,Mt=Bt.access,Nt=Bt.readFile,Et=a(87),At=a(622),Ot=process.platform;const Rt=r()(i().mark((function e(){var n,a,t,r,o,s,l,u,c,m,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"win32"!==Ot){e.next=18;break}return n=Et.homedir(),a=At.join(n,".gologin","metadata"),e.next=6,Mt(a);case 6:return e.next=8,Nt(a,"utf-8");case 8:if(t=e.sent,r=t.split("_"),o=ye()(r,2),o[0],s=o[1],!t.includes("GoLogin Setup")||!/\d+\.\d+\.\d+/.test(t)){e.next=12;break}return e.abrupt("return","do_not_send_stats");case 12:if(!s){e.next=17;break}if(l=s.split("."),u=ye()(l,2),c=u[0],m=u[1],f=m.replace(/\s.*$|\(.*$/,""),!/^\d+$/.test(c)||!/^\d+$/.test(f)){e.next=17;break}return e.abrupt("return","".concat(c,".").concat(f));case 17:return e.abrupt("return","error_template:::file_name:"+t);case 18:return e.abrupt("return","error_template:::platform:"+Ot);case 21:return e.prev=21,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","error_template:::"+e.t0.message);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));var Lt=function(){var e=r()(i().mark((function e(){var n,t,r,o,s,l,u,c,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a(129),r=t.exec,o=a(214),s=o.getCurrentVersion,l=S.i8,e.next=6,Ia();case 6:return u=e.sent,e.next=9,s();case 9:if(c=e.sent,m={tags:{versionApp:l,userOS:u,browserVersion:null==c||null===(n=c.stdout)||void 0===n?void 0:n.trim(),isElectron:"true"}},e.t0="win"===u,!e.t0){e.next=15;break}return e.next=15,r("wmic OS get OSArchitecture /format:list ",(function(e,n){if(e)console.log("error: ".concat(e.message));else{var a=n.replace(/\D+/g,"");m.tags.archOS=a}}));case 15:return e.abrupt("return",m);case 18:e.prev=18,e.t1=e.catch(0),console.log(e.t1);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),It=S.u2,Dt=S.i8,jt=S.gN;(0,d.init)({dsn:"https://5f8f2419860a4749bb9b13d81b131a29@sentry.amzn.pro/2"});var Ft,Gt=!1,Ut=F();console.log("folderPaths:",Ut);var Ht=!1,Kt=p.app.requestSingleInstanceLock(),zt=p.Menu.buildFromTemplate([{label:"Show",click:function(){var e;return null===(e=Ft)||void 0===e?void 0:e.show()}},{label:"Quit",click:function(){p.app.quit()}}]),Wt=[{label:"GoLogin",submenu:[{label:"Quit",accelerator:"CmdOrCtrl+Q",click:function(){p.app.quit()}},{label:"Hide",accelerator:"CmdOrCtrl+W",click:function(){var e;null===(e=Ft)||void 0===e||e.hide()}}]},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"},{role:"selectAll"}]}];p.Menu.setApplicationMenu(p.Menu.buildFromTemplate(Wt));var qt="".concat(It," v").concat(Dt," ").concat(jt),Vt=function(){(Ft=new p.BrowserWindow({minWidth:1024,minHeight:500,width:1024,height:768,title:qt,webPreferences:{nodeIntegration:!0,preload:__dirname+"/preload.js"}})).webContents.on("new-window",(function(e){return e.preventDefault()})),Ft.loadURL(l().format({pathname:c().join(__dirname,"index.html"),protocol:"file:",slashes:!0}));var e=c().join(__dirname,"iconTemplate@5x.png");Ft.tray=new p.Tray(p.nativeImage.createFromPath(e)),Ft.tray.setToolTip("GoLogin"),Ft.tray.setContextMenu(zt),Ft.tray.on("double-click",(function(){var e;return null===(e=Ft)||void 0===e?void 0:e.show()})),Ft.on("close",function(){var e=r()(i().mark((function e(n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Window Close Event Detected"),Gt||(console.log("No update application detected"),n.preventDefault(),null===(a=Ft)||void 0===a||a.hide());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),p.globalShortcut.register("CmdOrCtrl+Shift+I",(function(){var e,n;(null===(e=Ft)||void 0===e?void 0:e.isFocused())&&(null===(n=Ft)||void 0===n||n.webContents.toggleDevTools())}))};p.app.on("activate",(function(){var e;return null===(e=Ft)||void 0===e?void 0:e.show()})),p.app.on("ready",r()(i().mark((function e(){var n,a,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt();case 2:return n=e.sent,a=36912,e.next=6,g(a);case 6:t=e.sent;case 7:if(!t){e.next=13;break}return e.next=10,g(++a);case 10:t=e.sent,e.next=7;break;case 13:global.appPort=a,Ct(a,(function(){console.log("Server has been started")}));try{f().existsSync(Ut.BASE_FOLDER)&&(console.log("removing",Ut.BASE_FOLDER),f().removeSync(Ut.BASE_FOLDER))}catch(e){console.log("Error in removing base folder:",e)}(r=new Oa).init().then((function(){return r.updateExtensions()})).catch((function(){})),Vt(),fe(n),Z().catch((function(e){return console.log("Error in checkSystemFonts:",e.message)})),(dt=new(ve().Server)({port:12334,perMessageDeflate:{zlibDeflateOptions:{chunkSize:1024,memLevel:7,level:3},zlibInflateOptions:{chunkSize:10240},clientNoContextTakeover:!0,serverNoContextTakeover:!0,serverMaxWindowBits:10,concurrencyLimit:10,threshold:1024}})).on("listening",(function(){console.log("connected to ws-electron")})),dt.on("error",(function(e){return console.log("Error:",e)})),dt.on("connection",(function(e){e.on("message",(function(e){var n=JSON.parse(e),a=n.method,t=n.data;console.log("data:",e),"launchProfile"===a&&et(St,t)}))})),v.autoUpdater.checkForUpdates();case 23:case"end":return e.stop()}}),e)})))),Kt?p.app.on("second-instance",(function(){var e,n,a;null===(e=Ft)||void 0===e||e.show(),null===(n=Ft)||void 0===n||n.restore(),null===(a=Ft)||void 0===a||a.focus()})):p.app.quit(),p.app.whenReady().then((function(){var e=p.app.setAsDefaultProtocolClient("gologin");console.log("Protocol success creation:",e)})),v.autoUpdater.on("update-downloaded",(function(){Ft&&Ft.webContents.send("app-update-downloaded")})),v.autoUpdater.on("error",function(){var e=r()(i().mark((function e(n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt();case 2:a=e.sent,console.error(n),h.captureException(n,a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),p.ipcMain.on("start-socket-connection",(function(){Ht||(be(),Ht=!0)})),p.ipcMain.on("start-profile",(function(e,n){et(n.profileData,n.sentryParams,e)})),p.ipcMain.on("install-app-updates",r()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gt=!0,e.next=3,mt();case 3:v.autoUpdater.quitAndInstall();case 4:case"end":return e.stop()}}),e)})))),p.ipcMain.on("set-token",(function(e,n){!function(e,n){za=e,Wa=n,Xa.accessToken=e,Xa.twoFaToken=n,$a.accessToken=e,$a.twoFaKey=n}(n.token,n.twoFa)})),p.ipcMain.on("set-2fa",(function(e,n){n.twoFa})),p.ipcMain.on("set-useragent",(function(e,n){!function(e){qa=e,Xa.userAgent=e,$a.userAgent=e,console.log("Useragent has been updated successfully:",e)}(n.ua)})),p.ipcMain.on("stop-profile",(function(e,n){nt(n)})),p.ipcMain.on("stop-multiple-profiles",(function(e,n){n.map((function(e){return nt(e)}))})),p.ipcMain.on("check-profiles",(function(e){!function(e){for(var n in Fa)pt(e,"running",n)}(e)})),p.ipcMain.on("open-link",(function(e,n){var a;a=n.link,Ce()(a)})),p.ipcMain.handle("check-proxy",function(){var e=r()(i().mark((function e(n,a){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn.checkProxy(a);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),p.ipcMain.on("del-profile-ext-folder",(function(e,n){!function(e){var n,a=[],t=ne(ce);try{var r=function(){var t=n.value;a.push((0,ee.Z)({fn:function(){return f().remove(c().join(ue,t.extName,e))}}))};for(t.s();!(n=t.n()).done;)r()}catch(e){t.e(e)}finally{t.f()}Promise.all(a).catch((function(){return Promise.resolve()}))}(n)})),p.ipcMain.on("get-app-version",(function(e){e.sender.send("get-app-version",Dt+" "+jt)})),p.ipcMain.on("get-orbita-browser-version",function(){var e=r()(i().mark((function e(n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.getCurrentVersion)();case 2:a=e.sent,n.returnValue=(null==a?void 0:a.stdout)||"0.0.0";case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),p.ipcMain.on("check-browser",(function(e){(0,$.checkBrowser)().then((function(n){return e.sender.send("check-browser",n)})).catch((function(){return e.sender.send("check-browser",{})}))})),p.ipcMain.on("download-browser",(function(e,n){(0,$.downloadBrowser)(e,n)})),p.ipcMain.on("close-all-profiles",(function(){return mt()})),p.ipcMain.on("get-client-id-from-metadata",function(){var e=r()(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rt();case 2:n.returnValue=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),p.ipcMain.on("get-system-fonts-from-file",function(){var e=r()(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X().catch((function(){return[]}));case 2:n.returnValue=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),p.app.on("before-quit",function(){var e=r()(i().mark((function e(n){var a,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=global.brave_processes||{},(null===(a=Object.keys(t))||void 0===a?void 0:a.length)||0){e.next=7;break}return Ft&&Ft.removeAllListeners("close"),Ft&&Ft.close(),e.abrupt("return",null);case 7:if(1!==p.dialog.showMessageBoxSync(Ft,{type:"question",buttons:["Close anyway","Cancel"],title:"Confirm your actions",message:"Your profile is running. If you close GoLogin now, your data may be lost.",noLink:!0})){e.next=12;break}return console.log("Preventing close application"),n.preventDefault(),e.abrupt("return",null);case 12:return f().removeSync(Ut.BASE_FOLDER),dt&&dt.close(),e.next=16,mt();case 16:Ft&&Ft.removeAllListeners("close"),Ft&&Ft.close(),e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(0),Ft&&Ft.removeAllListeners("close"),Ft&&Ft.close(),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(n){return e.apply(this,arguments)}}()),p.app.on("activate",(function(){var e;return null===(e=Ft)||void 0===e?void 0:e.show()})),p.app.on("window-all-closed",p.app.quit)},576:(e,n,a)=>{a.d(n,{Z:()=>t});const t=function e(n){var a=n||{},t=a.callCounter||1,r=a.fn,o=a.limit||5;return delete a.callCounter,r(a).catch((function(n){return console.error(n),t>=o?Promise.reject(n):(a.callCounter=t+1,new Promise((function(e){return process.nextTick(e)})).then((function(){return e(a)})))}))}},12:e=>{e.exports=require("@babel/runtime/helpers/defineProperty")},0:e=>{e.exports=require("@babel/runtime/helpers/slicedToArray")},425:e=>{e.exports=require("@sentry/electron")},376:e=>{e.exports=require("axios")},129:e=>{e.exports=require("child_process")},919:e=>{e.exports=require("decompress")},408:e=>{e.exports=require("decompress-unzip")},747:e=>{e.exports=require("fs")},298:e=>{e.exports=require("fs-extra")},211:e=>{e.exports=require("https")},87:e=>{e.exports=require("os")},622:e=>{e.exports=require("path")},484:e=>{e.exports=require("requestretry")},165:e=>{e.exports=require("simple-proxy-agent")},946:e=>{e.exports=require("socks5-https-client")},669:e=>{e.exports=require("util")}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,a),o.exports}a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t=a(715),r=exports;for(var o in t)r[o]=t[o];t.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();